<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Toolkits - Logistics Cost Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a4480;
            --primary-dark: #0d2b54;
            --primary-light: #2c5daa;
            --secondary: #ff6b35;
            --accent: #00a896;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --border: #dee2e6;
            --success: #28a745;
            --danger: #dc3545;
            --card-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s ease;
            --sidebar-width: 250px;
            --agl-bg: #e6f7ff;
            --tpl-bg: #e8f5e9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Calibri, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            position: relative;
        }
        
        .watermark {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.3;
            background-image: repeating-linear-gradient(
                -30deg,
                transparent,
                transparent 40px,
                /* rgba(255, 0, 0, 0.1) 40px,
                rgba(255, 0, 0, 0.1) 80px */
            );
        }
        
        .watermark-text {
            position: absolute;
            transform: rotate(-30deg);
            font-size: 40px;
            color: rgba(255, 0, 0, 0.15);
            font-weight: bold;
            white-space: nowrap;
            pointer-events: none;
        }
        
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            box-shadow: var(--card-shadow);
            z-index: 100;
            overflow-y: auto;
            padding: 10px 0;
            transition: var(--transition);
        }
        
        .logo-container {
            padding: 0 20px 15px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 15px;
        }
        
        .logo-en {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary);
            letter-spacing: -0.5px;
        }
        
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 20px;
            transition: var(--transition);
        }
		
		.scenario-description {
			color: #0877C0; /* 蓝色文字 */
			margin-top: 5px;
			font-weight: normal;
			display: block;
		}
        
        .page-header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: var(--card-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .page-header h1 {
            font-size: 1.6rem;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--primary);
        }
        
        .calculator-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--primary);
        }
        
        .tab {
            padding: 10px 20px;
            background: #eef2f8;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary);
            border-radius: 6px 6px 0 0;
            transition: all 0.3s;
            font-size: 0.95rem;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 15px;
            background: white;
            border-radius: 0 0 6px 6px;
            box-shadow: var(--card-shadow);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        
        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }
        
        .panel h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #eaeaea;
            display: flex;
            align-items: center;
            font-size: 1.3rem;
        }
        
        .panel h2 i {
            margin-right: 10px;
            color: var(--accent);
            background: #f0f9ff;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary);
            margin: 15px 0 10px;
            padding-left: 5px;
            border-left: 3px solid var(--accent);
        }
        
        .input-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 18px;
        }
        
        .input-group {
            flex: 1;
            min-width: 180px;
            padding: 15px;
            background: #f8faff;
            border-radius: 8px;
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
            font-size: 1rem;
        }
        
        .input-group .description {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        select, input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #dde4f0;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s;
            background: white;
            font-family: Calibri, sans-serif;
        }
        
        select:focus, input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 68, 128, 0.1);
            outline: none;
        }
        
        .input-group-row {
            display: flex;
            gap: 8px;
        }
        
        .input-group-row > div {
            flex: 1;
        }
        
        .btn {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 14px 25px;
            font-size: 1.05rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            margin-top: 12px;
            font-family: Calibri, sans-serif;
        }
        
        .btn-custom {
            background: #e9ecef;
            color: var(--dark);
            padding: 10px 15px;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .result-container {
            padding: 20px;
            text-align: center;
            background: linear-gradient(135deg, #f8faff, #e6f7ff);
            border-radius: 12px;
            margin-top: 20px;
            border: 1px solid #dde8ff;
            position: relative;
        }
        
        .currency-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid var(--primary);
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 0.9rem;
            cursor: pointer;
            z-index: 10;
        }
        
        .result-container h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin: 12px 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }
        
        .comparison-results {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .comparison-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            text-align: center;
            border: 1px solid #eef2f8;
            transition: all 0.3s;
            position: relative;
        }
        
        /* AGL方案卡片背景 */
        .comparison-card.agl {
            background-color: var(--agl-bg);
        }
        
        /* 3PL方案卡片背景 */
        .comparison-card.tpl {
            background-color: var(--tpl-bg);
        }
        
        .comparison-card h4 {
            color: var(--primary);
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .comparison-card .value {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--accent);
            margin: 8px 0;
        }
        
        .comparison-card .label {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        
        .comparison-subtitle {
            text-align: center;
            color: var(--primary);
            margin: 20px 0 12px;
            font-weight: 600;
            font-size: 1.1rem;
            background: #e8f4ff;
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
            position: relative;
        }
        
        .comparison-subtitle::after {
            content: "";
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 2px;
            background: var(--accent);
            border-radius: 2px;
        }
        
        .scheme-tag {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .hidden {
            display: none;
        }
        
		.cost-per-unit {
			background-color: #0877C0; /* 浅蓝色背景 */
			padding: 6px 8px;
			border-radius: 4px;
			margin-top: 5px;
			color: #0877C0; /* 浅蓝色文字 */
			font-size: 0.85rem;
		}
		
        .formula-breakdown {
            background: #f1f8ff;
            border-radius: 6px;
            padding: 12px;
            margin-top: 8px;
            font-size: 0.85rem;
            text-align: left;
            border-left: 2px solid var(--primary);
        }
        
        .formula-line {
            margin-bottom: 6px;
            padding: 4px;
            background: rgba(255,255,255,0.7);
            border-radius: 3px;
        }
        
        .formula-line:last-child {
            margin-bottom: 0;
        }
        
        .instructions-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            line-height: 1.6;
        }
		
		.instructions-content table {
			width: 100%;
			border-collapse: collapse;
			margin: 15px 0;
			font-size: 0.9rem;
			table-layout: auto; /* 让表格自动调整列宽 */
			word-break: break-word; /* 允许长单词换行 */
		}

		.instructions-content th, 
		.instructions-content td {
			padding: 8px 12px;
			text-align: left;
			border: 1px solid var(--border);
			vertical-align: top; /* 内容顶部对齐 */
		}

		.instructions-content th {
			background-color: var(--primary);
			color: white;
			font-weight: 600;
		}

		.instructions-content tr:nth-child(even) {
			background-color: #f8f9fa;
		}

		/* 小屏幕适配 */
		@media (max-width: 768px) {
			.instructions-content table {
				font-size: 0.85rem;
			}
			
			.instructions-content th, 
			.instructions-content td {
				padding: 6px 8px;
			}
		}

		/* 超小屏幕适配 - 将表格转换为垂直堆叠布局 */
		@media (max-width: 480px) {
			.instructions-content table {
				display: block;
				width: 100%;
			}
			
			.instructions-content thead {
				display: none; /* 隐藏表: none; /* 隐藏表头 */
			}
			
			.instructions-content tbody,
			.instructions-content tr,
			.instructions-content td {
				display: block;
				width: 100%;
			}
			
			.instructions-content tr {
				margin-bottom: 15px;
				border: 1px solid var(--border);
				border-radius: 6px;
				overflow: hidden;
			}
			
			.instructions-content td {
				border: none;
				border-bottom: 1px solid var(--border);
				position: relative;
				padding-left: 40%;
				text-align: right;
			}
			
			.instructions-content td:before {
				content: attr(data-label);
				position: absolute;
				left: 10px;
				width: 35%;
				text-align: left;
				font-weight: bold;
				color: var(--primary);
			}
			
			.instructions-content td:last-child {
				border-bottom: none;
			}
		}
		/* 优化instruction页签中的表格样式 - 新增代码结束 */
		
        
        .instructions-content h3 {
            color: var(--primary);
            margin: 15px 0 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .instructions-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .instructions-content li {
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .instructions-content code {
            background: #f8f9fa;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        
        .instructions-content .formula {
            background: #f1f8ff;
            padding: 12px;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
            margin: 12px 0;
            font-family: monospace;
            font-size: 1rem;
        }
        
        .file-info {
            background: #e8f4ff;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .file-info h4 {
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .file-info ul {
            margin-left: 18px;
        }
        
        .placeholder {
            text-align: center;
            padding: 40px 0;
            background: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border);
        }
        
        .placeholder i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--primary-light);
        }
        
        .placeholder h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .placeholder p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
            color: var(--gray);
        }
        
        .nav-menu {
            list-style: none;
            padding: 0 12px;
        }
        
        .nav-item {
            margin-bottom: 4px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            border-radius: 6px;
            color: var(--gray);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            font-size: 0.95rem;
        }
        
        .nav-link.active {
            background: rgba(26, 68, 128, 0.1);
            color: var(--primary);
        }
        
        .nav-link i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .nav-divider {
            height: 1px;
            background: var(--border);
            margin: 15px 0;
        }
        
        .error-message {
            color: var(--danger);
            font-size: 0.85rem;
            margin-top: 4px;
            display: none;
        }
        
        .percent-input-container {
            position: relative;
        }
        
        .percent-input-container input {
            padding-right: 35px;
        }
        
        .percent-symbol {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            pointer-events: none;
        }
        
        input[disabled] {
            background-color: #e9ecef;
            opacity: 1;
        }
        
        .weight-calculations {
            background: #f0f7ff;
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
        }
        
        .weight-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .weight-group {
            flex: 1;
            min-width: 180px;
        }
        
        .preset-params {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
            border-left: 3px solid var(--primary);
        }
        
        .preset-params h4 {
            color: var(--primary);
            margin-bottom: 12px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 6px;
        }
        
        .preset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 12px;
        }
        
        .preset-card {
            background: white;
            border-radius: 6px;
            padding: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            font-size: 0.95rem;
        }
        
        .preset-card h5 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1rem;
        }
        
        .preset-card ul {
            margin-left: 12px;
        }
        
        .custom-params-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid #dee2e6;
        }
        
        .custom-params-panel h3 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #dee2e6;
            font-size: 1.2rem;
        }
        
        .sub-section-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary-dark);
            margin: 15px 0 10px;
            padding-bottom: 5px;
            border-bottom: 1px dashed var(--border);
        }
        
        .sub-section-description {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .param-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 12px;
        }
        
        /* 3PL LCL rate参数在一行显示 */
        #tpl-lcl-params .param-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        #tpl-lcl-params .param-grid .param-item {
            flex: 1;
            min-width: 200px;
        }
        
        /* Floating navigation buttons */
        .floating-nav {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .floating-btn {
            background: rgba(26, 68, 128, 0.8);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            opacity: 0.85;
            text-align: center;
        }
        
        .floating-btn:hover {
            background: rgba(26, 68, 128, 1);
            transform: translateY(-2px);
            opacity: 1;
        }
        
        /* Table styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
			position: relative;
            max-height: 400px;
            overflow-y: auto;
            display: block;
        }
        
        th, td {
            padding: 8px 12px;
            text-align: left;
            border: 1px solid #dee2e6;
        }
        
        th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
			position: sticky;
            top: 0;
            z-index: 10;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .contact-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .contact-link:hover {
            text-decoration: underline;
        }
        
        
        /* For cargo detail and duty cost sections */
        .compact-row {
            display: flex;
			flex-wrap: wrap; /* 允许换行 */
            gap: 12px;
            padding-bottom: 10px;
            margin-bottom: 18px;
			width: 100%;
        }
		/* 输入组的基本样式 */
		.compact-row .input-group {
			flex: 1 1 auto;
			min-width: 120px;
			max-width: 100%;
			padding: 15px;
			background: #f8faff;
			border-radius: 8px;
			position: relative;
		}
		
        /* 为特定输入组设置不同的flex比例 */
		.compact-row .input-group:nth-child(1), /* POL */
		.compact-row .input-group:nth-child(2) { /* Product Category & Tariff */
			flex: 2 1 200px;
		}

		.compact-row .input-group:nth-child(3) { /* FCL Units */
			flex: 1 1 120px;
		}

		.compact-row .input-group:nth-child(4), /* Shipment Volume */
		.compact-row .input-group:nth-child(5), /* LCL Units per CBM */
		.compact-row .input-group:nth-child(6) { /* LCL kg per CBM */
			flex: 1 1 150px;
		}

		/* 标签样式 */
		.compact-row .input-group label {
			display: block;
			margin-bottom: 8px;
			font-weight: 600;
			color: var(--primary);
			font-size: 0.95rem;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		/* 输入框和下拉框样式 */
		.compact-row select, 
		.compact-row input {
			width: 100%;
			padding: 10px 12px;
			font-size: 0.9rem;
		}
		
		/* 响应式调整 - 中等屏幕 */
		@media (max-width: 1200px) {
			.compact-row .input-group {
				flex: 1 1 200px;
			}
		}

		/* 响应式调整 - 小屏幕 */
		@media (max-width: 768px) {
			.compact-row {
				flex-direction: column;
			}
			
			.compact-row .input-group {
				flex: 1 1 100%;
				min-width: 100%;
			}
		}
		
		/* 空运Calculated fields部分调整 */
		#air-calculated-fields .compact-row {
			display: flex;
			flex-wrap: wrap;
			gap: 12px;
			width: 100%;
		}

		#air-calculated-fields .input-group {
			flex: 1 1 180px;
			min-width: 120px;
		}

		/* 响应式调整 - 中等屏幕 */
		@media (max-width: 1200px) {
			#air-calculated-fields .input-group {
				flex: 1 1 200px;
			}
		}

		/* 响应式调整 - 小屏幕 */
		@media (max-width: 768px) {
			#air-calculated-fields .compact-row {
				flex-direction: column;
			}
			
			#air-calculated-fields .input-group {
				flex: 1 1 100%;
				min-width: 100%;
			}
		}
		
		/* For AGL LCL*/
		#agl-lcl-container {
			grid-template-columns: repeat(4, minmax(280px, 1fr));
		}

		@media (max-width: 1500px) {
			#agl-lcl-container {
				grid-template-columns: repeat(4, minmax(250px, 1fr));
			}
		}

		@media (max-width: 1300px) {
			#agl-lcl-container {
				grid-template-columns: repeat(2, 1fr);
			}
		}

		@media (max-width: 768px) {
			#agl-lcl-container {
				grid-template-columns: 1fr;
			}
		}
        
        /* For 3PL LCL params */
        .compact-lcl-params {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .compact-lcl-params .param-item {
            flex: 1;
            min-width: 200px;
        }
        
        /* For air freight 3PL params */
        .air-param-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .air-param-subgroup {
            flex: 1;
            min-width: 300px;
        }
        
        .air-param-subgroup .param-grid {
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }
        
		/* FCL results layout */
		#fcl-results-container {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 15px;
		}

		#tpl-fcl-container {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 15px;
			margin-top: 15px;
		}

		/* 响应式调整 */
		@media (max-width: 1200px) {
			#fcl-results-container {
				grid-template-columns: repeat(2, 1fr);
			}
			
			#tpl-fcl-container {
				grid-template-columns: repeat(2, 1fr);
			}
		}

		@media (max-width: 768px) {
			#fcl-results-container {
				grid-template-columns: 1fr;
			}
			
			#tpl-fcl-container {
				grid-template-columns: 1fr;
			}
		}
        
        #fcl-results-container .comparison-card {
            margin-bottom: 15px;
        }
        
        #tpl-fcl-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        /* Air results layout */
        #air-results-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        #tpl-air-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        /* Special cargo surcharge */
        .special-cargo-item {
            margin-top: 10px;
        }
        
        @media (max-width: 1200px) {
            .comparison-results {
                grid-template-columns: repeat(2, 1fr);
            }
            
            #fcl-results-container, #tpl-fcl-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            #air-results-container, #tpl-air-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .sidebar {
                width: 60px;
                overflow: hidden;
            }
            
            .sidebar .logo-container,
            .sidebar .nav-link span {
                display: none;
            }
            
            .sidebar .nav-link {
                justify-content: center;
                padding: 12px;
            }
            
            .sidebar .nav-link i {
                margin-right: 0;
                font-size: 1.1rem;
            }
            
            .main-content {
                margin-left: 60px;
            }
            
            .floating-nav {
                bottom: 15px;
                right: 15px;
            }
            
            .floating-btn {
                padding: 10px 15px;
                font-size: 0.8rem;
            }
            
            .compact-row {
                flex-wrap: wrap;
            }
            
            #fcl-results-container, #tpl-fcl-container {
                grid-template-columns: 1fr;
            }
            
            #air-results-container, #tpl-air-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .comparison-results {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 0;
                text-align: center;
            }
            
            .main-content {
                padding: 12px;
            }
            
            .input-row {
                flex-direction: column;
            }
            
            .input-group {
                min-width: 100%;
            }
            
            .input-group-row {
                flex-direction: column;
            }
            
            .floating-nav {
                display: none;
            }
            
            .currency-toggle {
                position: relative;
                top: 0;
                right: 0;
                margin-top: 10px;
            }
        }
		
		/* 区域分组样式 */
		.regional-groups-container {
			display: flex;
			gap: 15px;
			margin-bottom: 15px;
		}

		.regional-group {
			flex: 1;
			padding: 10px 12px;
			background: #f8faff;
			border-radius: 8px;
			border: 1px solid #e6e9f0;
			min-width: 0;
		}
		
		.breakdown-details {
			margin-left: 15px;
			font-size: 0.8rem;
			color: var(--gray);
		}

		.breakdown-details .breakdown-line {
			margin-bottom: 2px;
		}

		.breakdown-details.compact {
			display: flex;
			flex-wrap: wrap;
			gap: 12px;
			margin-top: 5px;
		}

		.breakdown-details.compact span {
			white-space: nowrap;
		}

		.breakdown-line {
			font-weight: 500;
			margin-bottom: 4px;
		}

		.regional-group .section-title {
			margin-top: 0;
			margin-bottom: 8px;
			font-size: 0.95rem;
			color: var(--primary-dark);
			padding-bottom: 5px;
			border-bottom: 1px solid #e6e9f0;
		}

		.regional-group .compact-row {
			margin-bottom: 0;
			gap: 8px;
		}

		.regional-group .input-group {
			padding: 8px 10px;
			min-width: 100px;
		}

		.regional-group .input-group label {
			font-size: 0.9rem;
			margin-bottom: 5px;
		}

		.regional-group .input-group input {
			padding: 8px 10px;
			font-size: 0.9rem;
		}

		/* 小屏幕响应式调整 */
		@media (max-width: 1200px) {
			.regional-groups-container {
				flex-direction: column;
			}
			
			.regional-group {
				min-width: 100%;
			}
		}
		
		/* 自定义提示框样式 */
		.custom-alert-modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.5);
			z-index: 10000;
			justify-content: center;
			align-items: center;
		}

		.custom-alert-content {
			background: white;
			padding: 25px;
			border-radius: 12px;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
			max-width: 400px;
			width: 90%;
			text-align: center;
		}

		.custom-alert-message {
			margin-bottom: 20px;
			font-size: 1.1rem;
			color: var(--primary);
			line-height: 1.5;
		}

		.custom-alert-ok {
			background: var(--primary);
			color: white;
			border: none;
			padding: 10px 25px;
			border-radius: 6px;
			cursor: pointer;
			font-size: 1rem;
			font-weight: 600;
		}

		.custom-alert-ok:hover {
			background: var(--primary-dark);
		}
		
		/* 版本号显示样式 */
			.sidebar::after {
				content: "20251105v01"; /* 这里设置您的版本号 */
				display: block;
				position: fixed;
				bottom: 10px;
				left: 10px;
				font-size: 0.8rem;
				color: var(--gray);
				background: rgba(255,255,255,0.9);
				padding: 2px 5px;
				border-radius: 3px;
				z-index: 101;
				opacity: 0.7;
				transition: var(--transition);
			}

			.sidebar:hover::after {
				opacity: 1;
			}

			/* 小屏幕适配 */
			@media (max-width: 992px) {
				.sidebar::after {
					left: 5px;
					bottom: 5px;
					font-size: 0.6rem;
					padding: 1px 3px;
				}
			}
			
			/* 微型明细信息样式 */
			.breakdown-details-micro {
				font-size: 0.7rem;
				color: #888;
				margin-left: 5px;
			}

			/* 压缩区域间距 */
			.breakdown-section {
				margin-bottom: 3px;
				line-height: 1.2;
			}
			
			.breakdown-details-micro {
				font-size: 0.7rem;
				color: #888;
				margin-left: 5px;
			}

			.regional-breakdown {
				margin-top: 6px;
			}

			.regional-breakdown {
				margin-top: 6px;
			}

			/* SMP FCL 简化显示样式 */
			.regional-breakdown .formula-line {
				background: rgba(255,255,255,0.7);
				border-radius: 3px;
				padding: 4px;
				margin-bottom: 6px;
				font-size: 0.85rem;
			}
			
			/* SMP FCL 简化显示样式 */
			.regional-breakdown .formula-line {
				background: rgba(255,255,255,0.7);
				border-radius: 3px;
				padding: 4px;
				margin-bottom: 6px;
				font-size: 0.85rem;
			}

			.regional-breakdown .formula-line:last-child {
				margin-bottom: 0;
			}
			
		
    </style>
</head>
<body>
    <div class="watermark">
		<div class="watermark-text" style="top: 90%; left: 15%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 15%; left: 25%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 35%; left: 45%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 50%; left: 60%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 65%; left: 75%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 80%; left: 85%;">For internal, do not share</div>
		<div class="watermark-text" style="top: 10%; left: 90%;">For internal, do not share</div>
	</div>
    
    <div class="sidebar">
        <div class="logo-container">
            <div class="logo-en">Sales Toolkits</div>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
            </li>
            <li class="nav-divider"></li>
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link active" data-page="ocean">
                    <i class="fas fa-ship"></i>
                    <span>Ocean Freight Cost</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" data-page="air">
                    <i class="fas fa-plane"></i>
                    <span>Air Freight Cost</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" data-page="knowledge">
                    <i class="fas fa-book"></i>
                    <span>Knowledge Center</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" data-page="course">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Training Courses</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" data-page="demo">
                    <i class="fas fa-desktop"></i>
                    <span>System Demo</span>
                </a>
            </li>
			
			<li class="nav-divider"></li>
				<li class="nav-item">
					<a href="https://quip-amazon.com/6pfAA81Mtbkl#ZIC9AAT8P8V" 
					   target="_blank" 
					   class="nav-link" 
					   data-external>
						<i class="fas fa-book-open"></i>
						<span>User Guide >></span>
					</a>
				</li>
				<li class="nav-item">
					<a href="https://quip-amazon.com/6pfAA81Mtbkl/AGL-Sales-Toolkits#temp:C:ZICaaaad8c7bae24084af3a63147" 
					   target="_blank" 
						class="nav-link" 
						data-external>
						<i class="fas fa-envelope"></i>
						<span>Feedback >></span>
					</a>
				</li>
			
        </ul>
    </div>
    
    <div class="main-content">
        <div class="page-content" id="ocean-page">
            <div class="page-header">
                <h1><i class="fas fa-ship"></i> Ocean Freight Cost </h1>
			</div>
            
            <div class="calculator-container">
                <div class="tabs">
                    <div class="tab active" data-tab="calculator">Cost Comparator</div>
                    <div class="tab" data-tab="instructions">Instructions</div>
                </div>
                
				<div class="scenario-description">
					<p>1) Find latest release and user guide from this <a href="https://quip-amazon.com/6pfAA81Mtbkl#ZIC9AAT8P8V" target=“_blank” class="contact-link">Quip</a>. 2) AGL cost scenario coverage: Standard Ocean, DDP, Sort ONLY.</p>
				</div>
				
                <div class="tab-content active" id="calculator-content">
                    <div class="panel" id="parameter-settings">
                        <h2><i class="fas fa-sliders-h"></i> Parameter Settings</h2>
                        
                        <div class="section-title">Cargo Detail</div>
                        <div class="compact-row">
                            <div class="input-group">
                                <label>Port of Loading (POL)</label>
                                <select id="pol">
                                    <option value="SHANGHAI">Shanghai (SHANGHAI)</option>
                                    <option value="NINGBO">Ningbo (NINGBO)</option>
                                    <option value="XIAMEN">Xiamen (XIAMEN)</option>
                                    <option value="QINGDAO">Qingdao (QINGDAO)</option>
                                    <option value="TIANJIN">Tianjin (TIANJIN)</option>
                                    <option value="FUZHOU">Fuzhou (FUZHOU)</option>
                                    <option value="HONGKONG">Hong Kong (HONGKONG)</option>
                                    <option value="ZHUHAI">Zhuhai (ZHUHAI)</option>
                                    <option value="LIANYUNGANG">Lianyungang (LIANYUNGANG)</option>
                                    <option value="YANTIAN" selected>Yantian/Shenzhen (YANTIAN/SHENZHEN)</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Product Category & Tariff</label>
                                <div class="input-group-row">
                                    <div>
                                        <select id="category">
                                            <option value="custom" selected>Not in list</option>
                                            <option value="gl_home-improvement LED bulbs">Home Improvement - LED bulbs (32%)</option>
                                            <option value="gl_home-improvement Table lamps">Home Improvement - Table lamps (58.7%)</option>
                                            <option value="gl_home-improvement Faucets">Home Improvement - Faucets (55%)</option>
                                            <option value="gl_wireless Phone cases">Wireless - Phone cases (42.8%)</option>
                                            <option value="gl_wireless Data cables">Wireless - Data cables (30%)</option>
                                            <option value="gl_apparel Women's tops">Apparel - Women's tops (69.5%)</option>
                                            <option value="gl_toy Toys">Toys - Toys (30%)</option>
                                            <option value="gl_beauty Nail clippers">Beauty - Nail clippers (37.5%)</option>
                                            <option value="gl_drugstore Trash bags">Drugstore - Trash bags (33%)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <div class="percent-input-container">
                                            <input type="text" id="customTariffRate" value="30" disabled>
                                            <span class="percent-symbol">%</span>
                                        </div>
                                        <div class="error-message" id="tariffError">Rate must be greater than or equal to 0</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label>FCL Units</label>
                                <input type="number" id="fclUnits" min="1" value="12000">
                            </div>
                            
                            <div class="input-group">
                                <label>Shipment Volume (CBM)</label>
                                <input type="number" id="shipmentVolume" min="0.1" step="0.1" value="50.0">
                            </div>
                            
                            <div class="input-group">
                                <label>LCL Units per CBM</label>
                                <input type="number" id="lclUnitsPerCBM" min="1" value="500">
                            </div>
                            
                            <div class="input-group">
                                <label>LCL kg per CBM</label>
                                <input type="number" id="lclKgPerCBM" min="1" value="200">
                            </div>
                        </div>
                        
                        <div class="section-title">Duty Cost, IB fee, Regional distribution</div>
                        
						<div class="compact-row">
							<div class="input-group">
								<label>AGL Declared Value ($/unit)</label>
								<input type="number" id="declareValueAGL" min="0" step="0.01" value="1.0">
							</div>
							
							<div class="input-group">
								<label>3PL Declared Value ($/unit)</label>
								<input type="number" id="declareValue3PL" min="0" step="0.01" value="1.0">
							</div>
							
							<div class="input-group">
								<label>West IB Fee ($/unit)</label>
								<select id="ibFeeWest">
									<option value="0.3" selected>0.3</option>
									<option value="0.34">0.34</option>
									<option value="0.41">0.41</option>
									<option value="0.49">0.49</option>
									<option value="0.68">0.68</option>
									<option value="1.6">1.6</option>
								</select>
							</div>
							
							<div class="input-group">
								<label>East IB Fee ($/unit)</label>
								<select id="ibFeeEast">
									<option value="0.16" selected>0.16</option>
									<option value="0.18">0.18</option>
									<option value="0.22">0.22</option>
									<option value="0.27">0.27</option>
									<option value="0.37">0.37</option>
									<option value="1.1">1.1</option>
								</select>
							</div>
						</div>

						<!-- 区域分配容器 -->
						<div class="regional-groups-container">
							<!-- 3PL AOSS区域分配 -->
							<div class="regional-group">
								<div class="section-title">Regional Split% for 3PL AOSS</div>
								<div class="compact-row">
									<div class="input-group">
										<label>West Unit %</label>
										<input type="number" id="westUnitPercent" min="0" max="100" step="0.1" value="34.4">
										<div class="error-message" id="westError">Must be between 0-100</div>
									</div>
									
									<div class="input-group">
										<label>East Unit %</label>
										<input type="number" id="eastUnitPercent" min="0" max="100" step="0.1" value="35">
										<div class="error-message" id="eastError">Must be between 0-100</div>
									</div>
									
									<div class="input-group">
										<label>Central Unit %</label>
										<input type="number" id="centralUnitPercent" min="0" max="100" step="0.1" value="30.6">
										<div class="error-message" id="centralError">Must be between 0-100</div>
									</div>
								</div>
								<div class="error-message" id="aossPercentError" style="display: none; margin-top: 8px; font-size: 0.8rem;">3PL AOSS percentages must sum to 100%</div>
							</div>

							<!-- AGL SMP区域分配 -->
							<div class="regional-group">
								<div class="section-title">Regional Split% for AGL SMP</div>
								<div class="compact-row">
									<div class="input-group">
										<label>West %</label>
										<input type="number" id="smpWestPercent" min="0" max="100" step="0.1" value="24">
									</div>
									
									<div class="input-group">
										<label>Mid-East %</label>
										<input type="number" id="smpMidEastPercent" min="0" max="100" step="0.1" value="23">
									</div>
									
									<div class="input-group">
										<label>South East %</label>
										<input type="number" id="smpSouthEastPercent" min="0" max="100" step="0.1" value="17">
									</div>
									
									<div class="input-group">
										<label>North East %</label>
										<input type="number" id="smpNorthEastPercent" min="0" max="100" step="0.1" value="15">
									</div>
									
									<div class="input-group">
										<label>Central %</label>
										<input type="number" id="smpCentralPercent" min="0" max="100" step="0.1" value="21">
									</div>
								</div>
								<div class="error-message" id="smpPercentError" style="display: none; margin-top: 8px; font-size: 0.8rem;">SMP percentages must sum to 100%</div>
							</div>
						</div>
                        
                        <button class="btn" id="calculateBtn">
                            <i class="fas fa-calculator"></i> Calculate Costs with Pre-set Rates
                        </button>
                    </div>
                    
                    <div class="panel">
                        <h2><i class="fas fa-chart-line"></i> Calculation Results</h2>
                        
                        <div id="resultsSection" class="hidden">
                            <div class="result-container">
                                <h3>Cost Comparison</h3>
                                <button id="currencyToggle" class="currency-toggle">Switch to RMB</button>
                                
                                <div class="comparison-subtitle" id="fcl-results">FCL with IB fee (without duty)</div>
                                <div id="fcl-results-container">
                                    <div class="comparison-card agl">
                                        <h4>AGL AMP FCL</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="ampFclCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = AMP FCL Fixed fee (Import Clearance) + 40HQ fee</div>
                                            <div class="formula-line">AMP FCL Fixed fee: $<span id="ampFclFixedBooking">0.00</span></div>
                                            <div class="formula-line">AMP 40HQ fee: $<span id="ampFclBooking40HQ">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="ampFclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="ampFclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
									
									<div class="comparison-card agl">
										<h4>AGL SMP FCL (FCL+LCL)</h4>
										<h5>Single or multi-container (FCL) with possible remaining volume (LCL) calculation</h5>
										<div class="value" id="smpFclCost">$0.00</div>
										<div class="formula-breakdown">
											<div class="formula-line">Formula = Regional(FCL Fixed + 40HQ x container#))+(LCL Fixed + Split volume% x $ per CBM))</div>
											
											<div class="regional-breakdown">
												<div class="breakdown-section">
													<strong>West:</strong>
													<span>$<span id="smpWestFclFixedCost">0.00</span> + $<span id="smpWestFcl40HQCost">0.00</span> + $<span id="smpWestLclFixedCost">0.00</span> + $<span id="smpWestLclCbmCost">0.00</span> = $<span id="smpWestTotalCost">0.00</span></span>
													<span class="breakdown-details-micro">(PO split: <span id="smpWestTotalVolume">0.00</span>CBM; # of ctn: <span id="smpWestFclContainerCount">0</span>; LCL shipments: <span id="smpWestLclShipment">N</span>; LCL: <span id="smpWestLclVolume">0.00</span>CBM)</span>
												</div>
												
												<div class="breakdown-section">
													<strong>Mid-East:</strong>
													<span>$<span id="smpMidEastFclFixedCost">0.00</span> + $<span id="smpMidEastFcl40HQCost">0.00</span> + $<span id="smpMidEastLclFixedCost">0.00</span> + $<span id="smpMidEastLclCbmCost">0.00</span> = $<span id="smpMidEastTotalCost">0.00</span></span>
													<span class="breakdown-details-micro">(PO split: <span id="smpMidEastTotalVolume">0.00</span>CBM; # of ctn: <span id="smpMidEastFclContainerCount">0</span>; LCL shipments: <span id="smpMidEastLclShipment">N</span>; LCL: <span id="smpMidEastLclVolume">0.00</span>CBM)</span>
												</div>
												
												<div class="breakdown-section">
													<strong>South East:</strong>
													<span>$<span id="smpSouthEastFclFixedCost">0.00</span> + $<span id="smpSouthEastFcl40HQCost">0.00</span> + $<span id="smpSouthEastLclFixedCost">0.00</span> + $<span id="smpSouthEastLclCbmCost">0.00</span> = $<span id="smpSouthEastTotalCost">0.00</span></span>
													<span class="breakdown-details-micro">(PO split: <span id="smpSouthEastTotalVolume">0.00</span>CBM; # of ctn: <span id="smpSouthEastFclContainerCount">0</span>; LCL shipments: <span id="smpSouthEastLclShipment">N</span>; LCL: <span id="smpSouthEastLclVolume">0.00</span>CBM)</span>
												</div>
												
												<div class="breakdown-section">
													<strong>North East:</strong>
													<span>$<span id="smpNorthEastFclFixedCost">0.00</span> + $<span id="smpNorthEastFcl40HQCost">0.00</span> + $<span id="smpNorthEastLclFixedCost">0.00</span> + $<span id="smpNorthEastLclCbmCost">0.00</span> = $<span id="smpNorthEastTotalCost">0.00</span></span>
													<span class="breakdown-details-micro">(PO split: <span id="smpNorthEastTotalVolume">0.00</span>CBM; # of ctn: <span id="smpNorthEastFclContainerCount">0</span>; LCL shipments: <span id="smpNorthEastLclShipment">N</span>; LCL: <span id="smpNorthEastLclVolume">0.00</span>CBM)</span>
												</div>
												
												<div class="breakdown-section">
													<strong>Central:</strong>
													<span>$<span id="smpCentralFclFixedCost">0.00</span> + $<span id="smpCentralFcl40HQCost">0.00</span> + $<span id="smpCentralLclFixedCost">0.00</span> + $<span id="smpCentralLclCbmCost">0.00</span> = $<span id="smpCentralTotalCost">0.00</span></span>
													<span class="breakdown-details-micro">(PO split: <span id="smpCentralTotalVolume">0.00</span>CBM; # of ctn: <span id="smpCentralFclContainerCount">0</span>; LCL shipments: <span id="smpCentralLclShipment">N</span>; LCL: <span id="smpCentralLclVolume">0.00</span>CBM)</span>
												</div>
											</div>
											
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="smpFclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="smpFclCostPerCbm">0.00</span></div>
										</div>
									</div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL MSS FCL - West</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="aglMssFclWestCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = MSS FCL Fixed Fee (Import Clearance) + MSS 40HQ fee + (Units × West IB fee)</div>
                                            <div class="formula-line">MSS Fixed fee: $<span id="aglMssFixedWest">0.00</span></div>
                                            <div class="formula-line">MSS 40HQ fee: $<span id="aglMss40HQWest">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="aglMssIBWest">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="mssFclWestCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="mssFclWestCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL MSS FCL - East</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="aglMssFclEastCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = MSS FCL Fixed Fee (Import Clearance) + MSS 40HQ fee + (Units × East IB fee)</div>
                                            <div class="formula-line">MSS Fixed fee: $<span id="aglMssFixedEast">0.00</span></div>
                                            <div class="formula-line">MSS 40HQ fee: $<span id="aglMss40HQEast">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="aglMssIBEast">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="mssFclEastCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="mssFclEastCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="tpl-fcl-container">
                                    <div class="comparison-card tpl">
                                        <h4>3PL AOSS FCL</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="tplAossFclCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (3PL FCL West Rate x West Unit %) + (3PL FCL East Rate x East Unit %) + (3PL FCL Central Rate x Central Unit %)</div>
                                            <div class="formula-line">West cost: $<span id="aossWestCost">0.00</span></div>
                                            <div class="formula-line">East cost: $<span id="aossEastCost">0.00</span></div>
                                            <div class="formula-line">Central cost: $<span id="aossCentralCost">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="aossFclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="aossFclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS FCL - West</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="tplWestCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = 3PL FCL West rate + (Units × West IB fee)</div>
                                            <div class="formula-line">3PL FCL West rate: $<span id="tplWestFixed">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplWestIB">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplWestCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplWestCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS FCL - East</h4>
										<h5>Single container calculation FCL</h5>
                                        <div class="value" id="tplEastCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = 3PL FCL East rate + (Units × East IB fee)</div>
                                            <div class="formula-line">3PL FCL East rate: $<span id="tplEastFixed">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplEastIB">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplEastCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplEastCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="comparison-subtitle" id="lcl-results">LCL with IB fee and duty</div>
                                <div id="agl-lcl-container" class="comparison-results">
                                    <div class="comparison-card agl">
                                        <h4>AGL AMP LCL</h4>
                                        <div class="value" id="ampLclCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = AMP LCL Fixed fee (Import + Export Clearance) + (AMP LCL $ per CBM × Volume) + (Volume × LCL units per CBM × AGL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">AMP LCL Fixed fee: $<span id="ampLclFixed">0.00</span></div>
                                            <div class="formula-line">AMP LCL $ per CBM total: $<span id="ampLclRate">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="ampLclDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="ampLclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="ampLclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL SMP LCL</h4>
                                        <div class="value" id="smpLclCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = ((SMP LCL Fixed rate (Import + Export Clearance) × 5) + (SMP LCL $ per CBM x Max(Volume x Regional%, 1)) + (Volume × LCL units per CBM × AGL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">SMP Fixed fee: $<span id="smpFixedFee">0.00</span></div>
                                            <div class="formula-line">West cost: $<span id="smpWestCost">0.00</span></div>
                                            <div class="formula-line">Mid-East cost: $<span id="smpMidEastCost">0.00</span></div>
                                            <div class="formula-line">South East cost: $<span id="smpSouthEastCost">0.00</span></div>
                                            <div class="formula-line">North East cost: $<span id="smpNorthEastCost">0.00</span></div>
                                            <div class="formula-line">Central cost: $<span id="smpCentralCost">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="smpDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="smpLclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="smpLclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL MSS LCL - West</h4>
                                        <div class="value" id="aglMssLclWestCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = MSS LCL Fixed rate (Import + Export Clearance) + (MSS $ per CBM West × Volume) + (Volume × LCL Unit per CBM x West IB fee) + (Volume × LCL units/CBM × AGL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">MSS LCL Fixed fee: $<span id="aglMssLclWestFixed">0.00</span></div>
                                            <div class="formula-line">MSS LCL $ per CBM total: $<span id="aglMssLclWestRate">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="aglMssLclWestIB">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="aglMssLclWestDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="aglMssLclWestCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="aglMssLclWestCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL MSS LCL - East</h4>
                                        <div class="value" id="aglMssLclEastCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = MSS LCL Fixed rate (Import + Export Clearance) + (MSS $ per CBM East × Volume) + (Volume × LCL Unit per CBM × East IB fee) + (Volume × LCL units/CBM × AGL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">MSS LCL Fixed fee: $<span id="aglMssLclEastFixed">0.00</span></div>
                                            <div class="formula-line">MSS LCL $ per CBM total: $<span id="aglMssLclEastRate">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="aglMssLclEastIB">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="aglMssLclEastDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="aglMssLclEastCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="aglMssLclEastCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="comparison-results">
                                    <div class="comparison-card tpl">
                                        <h4>3PL AOSS LCL (duty incl.)</h4>
                                        <div class="value" id="tplAossLclDutyIncluded">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = ((3PL West RMB/kg x Max(Volume x West% x LCL kg per CBM, 50kg)) + (3PL East RMB/kg x Max(Volume x East% x LCL kg per CBM, 50kg)) + (3PL Central RMB/kg x Max(Volume x Central% x LCL kg per CBM, 50kg)))/Exchange</div>
                                            <div class="formula-line">West cost: $<span id="aossLclWestCost">0.00</span></div>
                                            <div class="formula-line">East cost: $<span id="aossLclEastCost">0.00</span></div>
                                            <div class="formula-line">Central cost: $<span id="aossLclCentralCost">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplaossLclDutyIncludedCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplaossLclDutyIncludedCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS LCL - West (duty incl.)</h4>
                                        <div class="value" id="tplMssLclWestDutyIncl">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (3PL West RMB/kg x Max(Volume x LCL kg per CBM, 50kg))/Exchange + (Units × West IB fee)</div>
                                            <div class="formula-line">Base freight: $<span id="tplMssLclWestBaseDutyIncl">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplMssLclWestIBDutyIncl">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplMssLclWestDutyInclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplMssLclWestDutyInclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS LCL - East (duty incl.)</h4>
                                        <div class="value" id="tplMssLclEastDutyIncl">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (3PL East RMB/kg x Max(Volume x LCL kg per CBM, 50kg))/Exchange + (Units × East IB fee)</div>
                                            <div class="formula-line">Base freight: $<span id="tplMssLclEastBaseDutyIncl">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplMssLclEastIBDutyIncl">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplMssLclEastDutyInclCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplMssLclEastDutyInclCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="comparison-results">
                                    <div class="comparison-card tpl">
                                        <h4>3PL AOSS LCL (duty excl.) + duty</h4>
                                        <div class="value" id="tplAossLclWithoutDuty">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = ((3PL West RMB/CBM x Max(Volume x West%, 0.5cbm)) + (3PL East RMB/CBM x Max(Volume x East%, 0.5cbm)) + (3PL Central RMB/CBM x Max(Volume x Central%, 5cbm))/Exchange + (Volume × LCL units per CBM × 3PL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">West cost: $<span id="aossLclWestCost2">0.00</span></div>
                                            <div class="formula-line">East cost: $<span id="aossLclEastCost2">0.00</span></div>
                                            <div class="formula-line">Central cost: $<span id="aossLclCentralCost2">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="aossLclDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplAossLclWithoutDutyCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplAossLclWithoutDutyCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS LCL - West (duty excl.) + duty</h4>
                                        <div class="value" id="tplMssLclWestCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (3PL West RMB/CBM × Max(Volume, 0.5cbm))/Exchange + (Volume × LCL Unit per CBM × West IB fee) + (Volume × LCL units per CBM × 3PL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">Base freight: $<span id="tplMssLclWestBase">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplMssLclWestIB">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="tplMssLclWestDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplMssLclWestCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplMssLclWestCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS LCL - East (duty excl.) + duty</h4>
                                        <div class="value" id="tplMssLclEastCost">$0.00</div>
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (3PL East RMB/CBM × Max(Volume, 0.5cbm))/Exchange + (Volume × LCL Unit per CBM × East IB fee) + (Volume × LCL units per CBM × 3PL Declared Value × Tariff rate)</div>
                                            <div class="formula-line">Base freight: $<span id="tplMssLclEastBase">0.00</span></div>
                                            <div class="formula-line">IB fee: $<span id="tplMssLclEastIB">0.00</span></div>
                                            <div class="formula-line">Duty cost: $<span id="tplMssLclEastDuty">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per KG: $<span id="tplMssLclEastCostPerKg">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per CBM: $<span id="tplMssLclEastCostPerCbm">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="noResultsSection">
                            <div class="result-container">
                                <h3>Results will appear here</h3>
                                <p>Please fill all parameters and click "Calculate Costs" button</p>
                                <i class="fas fa-calculator" style="font-size: 2.5rem; color: var(--primary); margin: 15px 0;"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="custom-params-panel" id="tpl-custom">
                        <h3>3PL Rate Customization</h3>
                        
                        <div class="sub-section-title">3PL FCL rate</div>
                        <div class="sub-section-description">Each Rate = origin+PTP+destination cost, duty exclusive</div>
                        <div class="param-grid">
                            <div class="param-item">
                                <label>3PL FCL West Rate ($) (duty excl.)</label>
                                <input type="number" id="customTplWestFclRate" value="3508">
                            </div>
                            <div class="param-item">
                                <label>3PL FCL East Rate ($) (duty excl.)</label>
                                <input type="number" id="customTplEastFclRate" value="4614">
                            </div>
                            <div class="param-item">
                                <label>3PL FCL Central Rate ($) (duty excl.)</label>
                                <input type="number" id="customTplCentralFclRate" value="4220">
                            </div>
                        </div>
                        
                        <div class="sub-section-title">3PL LCL rate</div>
                        <div class="sub-section-description">Duty inclusive RMB/kg, not duty inclusive RMB/CBM, fixed cost RMB/booking</div>
                        <div class="compact-lcl-params" id="tpl-lcl-params">
                            <div class="param-item">
                                <label>3PL WC RMB/kg (duty incl.)</label>
                                <input type="number" id="customTplWestRmbPerKg" value="4.25">
                            </div>
                            <div class="param-item">
                                <label>3PL EC RMB/kg (duty incl.)</label>
                                <input type="number" id="customTplEastRmbPerKg" value="4.99">
                            </div>
                            <div class="param-item">
                                <label>3PL CC RMB/kg (duty incl.)</label>
                                <input type="number" id="customTplCentralRmbPerKg" value="6.09">
                            </div>
                            <div class="param-item">
                                <label>3PL WC RMB/CBM (duty excl.)</label>
                                <input type="number" id="customTplWestRmbPerCbm" value="613.74">
                            </div>
                            <div class="param-item">
                                <label>3PL EC RMB/CBM (duty excl.)</label>
                                <input type="number" id="customTplEastRmbPerCbm" value="738.36">
                            </div>
                            <div class="param-item">
                                <label>3PL CC RMB/CBM (duty excl.)</label>
                                <input type="number" id="customTplCentralRmbPerCbm" value="922.43">
                            </div>
                        </div>
                        
                        <div class="sub-section-title">Other</div>
                        <div class="param-grid">
                            <div class="param-item">
                                <label>Exchange Rate (USD/RMB)</label>
                                <input type="number" id="customExchangeRate" step="0.01" value="7.1">
                            </div>
                        </div>
                        
                        <div class="param-buttons">
                            <button class="btn btn-custom" id="applyCustomRatesBtn">
                                <i class="fas fa-check"></i> Apply Custom Rates
                            </button>
                            <button class="btn btn-custom" id="resetToPresetBtn">
                                <i class="fas fa-undo"></i> Reset to Preset
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="instructions-content">
                    <div class="instructions-content">
                        <h3><i class="fas fa-info-circle"></i> Ocean Freight Cost Calculator Instructions</h3>
                        
                        <div class="file-info">
                            <h4>AGL Rate Card Version: valid from Nov 1, 2025</h4>
                        </div>
                        
						<div class="filter-container" style="margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 6px; display: flex; gap: 15px; flex-wrap: wrap;">
							<label style="flex: 1; min-width: 150px;">
								Product: 
								<select id="productFilter" style="width: 100%; margin-top: 5px;">
									<option value="all">All</option>
									<option value="AMP">AMP</option>
									<option value="MSS">MSS</option>
									<option value="SMP">SMP</option>
								</select>
							</label>
							<label style="flex: 1; min-width: 150px;">
								POL: 
								<select id="polFilter" style="width: 100%; margin-top: 5px;">
									<option value="all">All</option>
									<option value="NINGBO">NINGBO</option>
									<option value="SHANGHAI">SHANGHAI</option>
									<option value="XIAMEN">XIAMEN</option>
									<option value="QINGDAO">QINGDAO</option>
									<option value="TIANJIN">TIANJIN</option>
									<option value="SHENZHEN">SHENZHEN</option>
								</select>
							</label>
							<label style="flex: 1; min-width: 150px;">
								Destination Region: 
								<select id="regionFilter" style="width: 100%; margin-top: 5px;">
									<option value="all">All</option>
									<option value="US West">US West</option>
									<option value="US East">US East</option>
									<option value="US Central">US Central</option>
									<option value="US South-East">US South-East</option>
									<option value="US Mid-East">US Mid-East</option>
									<option value="US North-East">US North-East</option>
								</select>
							</label>
						</div>
						
                        <h3>AGL FCL Rates</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Dest.Region</th>
                                    <th>Speed Mode</th>
                                    <th>Currency</th>
                                    <th>Product</th>
                                    <th>FOB Status</th>
                                    <th>POL</th>
                                    <th>Destination Region</th>
                                    <th>FC Type</th>
                                    <th>Import Clearance</th>
                                    <th>40HQ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>NINGBO</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8082.9845</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>YANTIAN</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>7967.3718</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>SHANGHAI</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8098.7478</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>XIAMEN</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>7939.7943</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>QINGDAO</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8094.3478</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>TIANJIN</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8488.4661</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>FUZHOU</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8507</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>HONGKONG</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8057.7563</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>ZHUHAI</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8514</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>LIANYUNGANG</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>106</td>
                                    <td>8515</td>
                                </tr>
								
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3777.9845</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3662.3718</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3793.7478</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3634.7943</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3789.3478</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4183.4661</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4202</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3752.7563</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4209</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4210</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4953.876</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4877.1957</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4885.5169</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4829.3126</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4708.2633</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4857.8957</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4786.2436</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5219.6845</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5524</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5525</td>
								</tr>
								
								<!-- SMP FCL Rates - NINGBO -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3781.6746</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3780.045</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4829.6845</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4392.9971</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5087.6295</td>
								</tr>

								<!-- SMP FCL Rates - YANTIAN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3667.2577</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3665.6281</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4692.3788</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4306.8309</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>YANTIAN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5069.2971</td>
								</tr>

								<!-- SMP FCL Rates - SHANGHAI -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3792.2788</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3790.6492</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4716.1154</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4409.245</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5064.6661</td>
								</tr>

								<!-- SMP FCL Rates - XIAMEN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3637.7239</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3636.0929</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4694.7647</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4482.5183</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4972.1309</td>
								</tr>

								<!-- SMP FCL Rates - QINGDAO -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3794.4507</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3792.8211</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4486.6704</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4352.4464</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4938.9633</td>
								</tr>

								<!-- SMP FCL Rates - TIANJIN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4234.1267</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>4232.4971</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4688.6267</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4418.8577</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5045.2521</td>
								</tr>

								<!-- SMP FCL Rates - FUZHOU -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4242</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>4242</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4569.3436</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4306.4197</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>FUZHOU</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5014.2563</td>
								</tr>

								<!-- SMP FCL Rates - HONGKONG -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>3752.9394</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>3751.3098</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4999</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4349.1042</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>HONGKONG</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4999</td>
								</tr>

								<!-- SMP FCL Rates - ZHUHAI -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4249</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>4249</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4603.2478</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>4353.014</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>ZHUHAI</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5062.9028</td>
								</tr>

								<!-- SMP FCL Rates - LIANYUNGANG -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US West</td>
									<td>Sort</td>
									<td>106</td>
									<td>4250</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>106</td>
									<td>4250</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5524</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5524</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>LIANYUNGANG</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>106</td>
									<td>5524</td>
								</tr>
								
                            </tbody>
                        </table>
                        
												
                        <h3>AGL LCL Rates</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Dest.Region</th>
                                    <th>Speed Mode</th>
                                    <th>Currency</th>
                                    <th>Product</th>
                                    <th>FOB Status</th>
                                    <th>POL</th>
                                    <th>Destination Region</th>
                                    <th>FC Type</th>
                                    <th>Fixed Fee</th>
                                    <th>Reserved</th>
                                    <th>1-5 CBMS</th>
                                    <th>5-10 CBMS</th>
                                    <th>10-15 CBMS</th>
                                    <th>> 15 CBMS</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>NINGBO</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>86.8169</td>
                                    <td>0</td>
                                    <td>161.1097</td>
                                    <td>161.1097</td>
                                    <td>161.1097</td>
                                    <td>161.1097</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>SHANGHAI</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>89.3333</td>
                                    <td>0</td>
                                    <td>160.4291</td>
                                    <td>160.4291</td>
                                    <td>160.4291</td>
                                    <td>160.4291</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>XIAMEN</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>94.0281</td>
                                    <td>0</td>
                                    <td>160.7902</td>
                                    <td>160.7902</td>
                                    <td>160.7902</td>
                                    <td>160.7902</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>QINGDAO</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>96.7323</td>
                                    <td>0</td>
                                    <td>159.4444</td>
                                    <td>159.4444</td>
                                    <td>159.4444</td>
                                    <td>159.4444</td>
                                </tr>
                                <tr>
                                    <td>US</td>
                                    <td>SO</td>
                                    <td>USD</td>
                                    <td>AMP</td>
                                    <td>non-FOB</td>
                                    <td>SHENZHEN</td>
                                    <td>US West</td>
                                    <td>Sort</td>
                                    <td>101.2394</td>
                                    <td>0</td>
                                    <td>162.4</td>
                                    <td>162.4</td>
                                    <td>162.4</td>
                                    <td>162.4</td>
                                </tr>
								
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>86.6666</td>
									<td>0</td>
									<td>89.1597</td>
									<td>89.1597</td>
									<td>89.1597</td>
									<td>89.1597</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>89.3333</td>
									<td>0</td>
									<td>88.6791</td>
									<td>88.6791</td>
									<td>88.6791</td>
									<td>88.6791</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>93.7777</td>
									<td>0</td>
									<td>89.0402</td>
									<td>89.0402</td>
									<td>89.0402</td>
									<td>89.0402</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>96.4444</td>
									<td>0</td>
									<td>87.6944</td>
									<td>87.6944</td>
									<td>87.6944</td>
									<td>87.6944</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>100.8888</td>
									<td>0</td>
									<td>90.65</td>
									<td>90.65</td>
									<td>90.65</td>
									<td>90.65</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US East</td>
									<td>Sort</td>
									<td>86.6666</td>
									<td>0</td>
									<td>118.0569</td>
									<td>118.0569</td>
									<td>118.0569</td>
									<td>118.0569</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US East</td>
									<td>Sort</td>
									<td>89.3333</td>
									<td>0</td>
									<td>117.5986</td>
									<td>117.5986</td>
									<td>117.5986</td>
									<td>117.5986</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US East</td>
									<td>Sort</td>
									<td>93.7777</td>
									<td>0</td>
									<td>118.1152</td>
									<td>118.1152</td>
									<td>118.1152</td>
									<td>118.1152</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US East</td>
									<td>Sort</td>
									<td>96.4444</td>
									<td>0</td>
									<td>114.8875</td>
									<td>114.8875</td>
									<td>114.8875</td>
									<td>114.8875</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>MSS</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US East</td>
									<td>Sort</td>
									<td>100.8888</td>
									<td>0</td>
									<td>122.2083</td>
									<td>122.2083</td>
									<td>122.2083</td>
									<td>122.2083</td>
								</tr>
								
							<!-- AGL SMP LCL Rates -->
								<!-- NINGBO -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>46.8169</td>
									<td>0</td>
									<td>66.9211</td>
									<td>66.9211</td>
									<td>66.9211</td>
									<td>66.9211</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>46.8169</td>
									<td>0</td>
									<td>62.4436</td>
									<td>62.4436</td>
									<td>62.4436</td>
									<td>62.4436</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>46.8169</td>
									<td>0</td>
									<td>77.0197</td>
									<td>77.0197</td>
									<td>77.0197</td>
									<td>77.0197</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>46.8169</td>
									<td>0</td>
									<td>84.4676</td>
									<td>84.4676</td>
									<td>84.4676</td>
									<td>84.4676</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>NINGBO</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>46.8169</td>
									<td>0</td>
									<td>88.5</td>
									<td>88.5</td>
									<td>88.5</td>
									<td>88.5</td>
								</tr>
								
								<!-- SHANGHAI -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US West</td>
									<td>Sort</td>
									<td>49.5211</td>
									<td>0</td>
									<td>64.6211</td>
									<td>64.6211</td>
									<td>64.6211</td>
									<td>64.6211</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>49.5211</td>
									<td>0</td>
									<td>60.1422</td>
									<td>60.1422</td>
									<td>60.1422</td>
									<td>60.1422</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>49.5211</td>
									<td>0</td>
									<td>75.1521</td>
									<td>75.1521</td>
									<td>75.1521</td>
									<td>75.1521</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>49.5211</td>
									<td>0</td>
									<td>80.3535</td>
									<td>80.3535</td>
									<td>80.3535</td>
									<td>80.3535</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHANGHAI</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>49.5211</td>
									<td>0</td>
									<td>86.0802</td>
									<td>86.0802</td>
									<td>86.0802</td>
									<td>86.0802</td>
								</tr>
								
								<!-- XIAMEN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>54.0281</td>
									<td>0</td>
									<td>64.9253</td>
									<td>64.9253</td>
									<td>64.9253</td>
									<td>64.9253</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>54.0281</td>
									<td>0</td>
									<td>60.4478</td>
									<td>60.4478</td>
									<td>60.4478</td>
									<td>60.4478</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>54.0281</td>
									<td>0</td>
									<td>79.6887</td>
									<td>79.6887</td>
									<td>79.6887</td>
									<td>79.6887</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>54.0281</td>
									<td>0</td>
									<td>83.814</td>
									<td>83.814</td>
									<td>83.814</td>
									<td>83.814</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>XIAMEN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>54.0281</td>
									<td>0</td>
									<td>88.2507</td>
									<td>88.2507</td>
									<td>88.2507</td>
									<td>88.2507</td>
								</tr>
								
								<!-- QINGDAO -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US West</td>
									<td>Sort</td>
									<td>56.7323</td>
									<td>0</td>
									<td>67.0225</td>
									<td>67.0225</td>
									<td>67.0225</td>
									<td>67.0225</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>56.7323</td>
									<td>0</td>
									<td>62.545</td>
									<td>62.545</td>
									<td>62.545</td>
									<td>62.545</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>56.7323</td>
									<td>0</td>
									<td>76.914</td>
									<td>76.914</td>
									<td>76.914</td>
									<td>76.914</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>56.7323</td>
									<td>0</td>
									<td>77.2535</td>
									<td>77.2535</td>
									<td>77.2535</td>
									<td>77.2535</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>QINGDAO</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>56.7323</td>
									<td>0</td>
									<td>87.0971</td>
									<td>87.0971</td>
									<td>87.0971</td>
									<td>87.0971</td>
								</tr>
								
								<!-- TIANJIN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>47.7183</td>
									<td>0</td>
									<td>105.9239</td>
									<td>105.9239</td>
									<td>105.4295</td>
									<td>87.6943</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>47.7183</td>
									<td>0</td>
									<td>105.9239</td>
									<td>105.9239</td>
									<td>105.4295</td>
									<td>87.6943</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>47.7183</td>
									<td>0</td>
									<td>138.7338</td>
									<td>138.7338</td>
									<td>138.1915</td>
									<td>114.8873</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>47.7183</td>
									<td>0</td>
									<td>138.7338</td>
									<td>138.7338</td>
									<td>138.1915</td>
									<td>114.8873</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>TIANJIN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>47.7183</td>
									<td>0</td>
									<td>138.7338</td>
									<td>138.7338</td>
									<td>138.1915</td>
									<td>114.8873</td>
								</tr>
								
								<!-- SHENZHEN -->
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US West</td>
									<td>Sort</td>
									<td>61.2394</td>
									<td>0</td>
									<td>64.7422</td>
									<td>64.7422</td>
									<td>64.7422</td>
									<td>64.7422</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US Central</td>
									<td>Sort</td>
									<td>61.2394</td>
									<td>0</td>
									<td>60.2647</td>
									<td>60.2647</td>
									<td>60.2647</td>
									<td>60.2647</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US South-East</td>
									<td>Sort</td>
									<td>61.2394</td>
									<td>0</td>
									<td>75.2521</td>
									<td>75.2521</td>
									<td>75.2521</td>
									<td>75.2521</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US Mid-East</td>
									<td>Sort</td>
									<td>61.2394</td>
									<td>0</td>
									<td>81.9183</td>
									<td>81.9183</td>
									<td>81.9183</td>
									<td>81.9183</td>
								</tr>
								<tr>
									<td>US</td>
									<td>SO</td>
									<td>USD</td>
									<td>SMP</td>
									<td>non-FOB</td>
									<td>SHENZHEN</td>
									<td>US North-East</td>
									<td>Sort</td>
									<td>61.2394</td>
									<td>0</td>
									<td>87.6169</td>
									<td>87.6169</td>
									<td>87.6169</td>
									<td>87.6169</td>
								</tr>
								
								
                            </tbody>
                        </table>
                        
                        <h3>How to Use</h3>
                        <ol>
                            <li>Fill in all required parameters in the "Parameter Settings" section.</li>
                            <li>Click "Calculate Costs with Pre-set Rates" to see the results.</li>
                            <li>You can customize 3PL rates in the "3PL Rate Customization" section and apply them.</li>
                            <li>Switch between USD and RMB using the currency toggle in the results section.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="page-content" id="air-page" style="display:none;">
            <div class="page-header">
                <h1><i class="fas fa-plane"></i> Air Freight Cost </h1>
            </div>
            
            <div class="calculator-container">
                <div class="tabs">
                    <div class="tab active" data-tab="air-calculator">Cost Comparator</div>
                    <div class="tab" data-tab="air-instructions">Instructions</div>
                </div>
                <div class="scenario-description">
					<p>Find latest release and user guide from this <a href="https://quip-amazon.com/6pfAA81Mtbkl#ZIC9AAT8P8V" target=“_blank” class="contact-link">Quip</a>.</p>
				</div>
				
                <div class="tab-content active" id="air-calculator-content">
                    <div class="panel" id="parameter-settings-air">
                        <h2><i class="fas fa-sliders-h"></i> Parameter Settings</h2>
                        
                        <div class="section-title">Cargo Detail</div>
                        <div class="compact-row">
                            <div class="input-group">
                                <label>Port of Loading (POL)</label>
                                <select id="air-pol">
                                    <option value="HONGKONG" selected>Hong Kong (HONGKONG)</option>
                                    <option value="SHANGHAI">Shanghai (SHANGHAI)</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Product Category & Tariff</label>
                                <div class="input-group-row">
                                    <div>
                                        <select id="air-category">
                                            <option value="custom" selected>Not in list</option>
                                            <option value="gl_home-improvement LED bulbs">Home Improvement - LED bulbs (32%)</option>
                                            <option value="gl_home-improvement Table lamps">Home Improvement - Table lamps (58.7%)</option>
                                            <option value="gl_home-improvement Faucets">Home Improvement - Faucets (55%)</option>
                                            <option value="gl_wireless Phone cases">Wireless - Phone cases (42.8%)</option>
                                            <option value="gl_wireless Data cables">Wireless - Data cables (30%)</option>
                                            <option value="gl_apparel Women's tops">Apparel - Women's tops (69.5%)</option>
                                            <option value="gl_toy Toys">Toys - Toys (30%)</option>
                                            <option value="gl_beauty Nail clippers">Beauty - Nail clippers (37.5%)</option>
                                            <option value="gl_drugstore Trash bags">Drugstore - Trash bags (33%)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <div class="percent-input-container">
                                            <input type="text" id="air-customTariffRate" value="30" disabled>
                                            <span class="percent-symbol">%</span>
                                        </div>
                                        <div class="error-message" id="air-tariffError">Rate must be greater than or equal to 0</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label>Incoterm</label>
                                <select id="incoterm">
                                    <option value="DDP" selected>DDP</option>
                                    <option value="EXW">EXW</option>
                                    <option value="FOB">FOB</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Units</label>
                                <input type="number" id="units" min="1" value="5000">
                            </div>
                            
                            <div class="input-group">
                                <label>Weight (KG)</label>
                                <input type="number" id="weightKg" min="0.1" step="0.1" value="200">
                            </div>
                            
                            <div class="input-group">
                                <label>Shipment Volume (CBM)</label>
                                <input type="number" id="volumeCBM" min="0.10" step="0.01" value="2">
                            </div>
                        </div>
                        
                        <div class="section-title">Duty Cost, IB fee, Regional distribution</div>
                        <div class="compact-row">
                            <div class="input-group">
                                <label>Declared Value RMB/Unit - AGL</label>
                                <input type="number" id="declareValueAGL-air" min="0" step="0.01" value="1">
                            </div>
                            
                            <div class="input-group">
                                <label>Declared Value RMB/Unit - 3PL</label>
                                <input type="number" id="declareValue3PL-air" min="0" step="0.01" value="1">
                            </div>
                            
                            <div class="input-group">
                                <label>West IB Fee ($/unit)</label>
                                <select id="ibFeeWest-air">
                                    <option value="0.3" selected>0.3</option>
                                    <option value="0.34">0.34</option>
                                    <option value="0.41">0.41</option>
                                    <option value="0.49">0.49</option>
                                    <option value="0.68">0.68</option>
                                    <option value="1.6">1.6</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>West Unit %</label>
                                <input type="number" id="air-westUnitPercent" min="0" max="100" step="0.1" value="34.4">
                                <div class="error-message" id="air-westError">Must be between 0-100</div>
                            </div>
                            
                            <div class="input-group">
                                <label>East Unit %</label>
                                <input type="number" id="air-eastUnitPercent" min="0" max="100" step="0.1" value="35">
                                <div class="error-message" id="air-eastError">Must be between 0-100</div>
                            </div>
                            
                            <div class="input-group">
                                <label>Central Unit %</label>
                                <input type="number" id="air-centralUnitPercent" min="0" max="100" step="0.1" value="30.6">
                                <div class="error-message" id="air-centralError">Must be between 0-100</div>
                            </div>
                        </div>
                        
                        <div class="section-title">Calculated fields</div>
                        <div class="weight-calculations">
                            <div class="weight-row">
                                <div class="weight-group">
                                    <label>Volume weight (KG, CBM/0.006)</label>
                                    <input type="text" id="volumeWeight" disabled value="0">
                                </div>
                                
                                <div class="weight-group">
                                    <label>Chargeable weight (KG, Max(Weight,Volume weight,50))</label>
                                    <input type="text" id="chargeableWeight" disabled value="0">
                                </div>
                            </div>
                            
                            <div class="weight-row">
                                <div class="weight-group">
                                    <label>Chargeable weight (WC) (KG, chargeable weight x WC%)</label>
                                    <input type="text" id="chargeableWeightWC" disabled value="0">
                                </div>
                                
                                <div class="weight-group">
                                    <label>Chargeable weight (EC) (KG, chargeable weight x EC%)</label>
                                    <input type="text" id="chargeableWeightEC" disabled value="0">
                                </div>
                                
                                <div class="weight-group">
                                    <label>Chargeable weight (CC) (KG, chargeable weight x CC%)</label>
                                    <input type="text" id="chargeableWeightCC" disabled value="0">
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn" id="calculateAirBtn">
                            <i class="fas fa-calculator"></i> Calculate Costs with Pre-set Rates
                        </button>
                    </div>
                    
                    <div class="panel">
                        <h2><i class="fas fa-chart-line"></i> Calculation Results</h2>
                        
                        <div id="air-resultsSection" class="hidden">
                            <div class="result-container">
                                <h3>Cost Comparison (with IB fee and duty)</h3>
                                
                                <div id="air-results-container">
                                    <div class="comparison-card agl">
                                        <h4>AGL AMP</h4>
                                        <div class="value" id="ampAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = AMP Fixed Fee + (Chargeable weight × AMP per KG) + (Units × AGL Declared Value RMB/Unit × Tariff rate)</div>
                                            <div class="formula-line">Fixed fee: ¥<span id="ampFixedFee">0.00</span></div>
                                            <div class="formula-line">Per KG fee total: ¥<span id="ampPerKg">0.00</span></div>
                                            <div class="formula-line">Duty cost: ¥<span id="ampDutyAir">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="ampAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card agl">
                                        <h4>AGL MSS - West</h4>
                                        <div class="value" id="mssAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = MSS Fixed Fee + (Chargeable weight × MSS per KG) + (IB Fee × Units × Exchange) + (Units × AGL Declared Value RMB/Unit × Tariff rate)</div>
                                            <div class="formula-line">Fixed fee: ¥<span id="mssFixedFee">0.00</span></div>
                                            <div class="formula-line">Per KG fee total: ¥<span id="mssPerKg">0.00</span></div>
                                            <div class="formula-line">IB fee: ¥<span id="mssIBFee">0.00</span></div>
                                            <div class="formula-line">Duty cost: ¥<span id="mssDutyAir">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="mssAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="tpl-air-container">
                                    <div class="comparison-card tpl">
                                        <h4>3PL AOSS cost (duty incl.)</h4>
                                        <div class="value" id="tplAossAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (Chargeable weight x WC% × 3PL WC rate) + (Chargeable weight x EC% × 3PL EC rate) + (Chargeable weight x CC% × 3PL CC rate) + Special cargo surcharge</div>
                                            <div class="formula-line">WC cost: ¥<span id="aossWcCost">0.00</span></div>
                                            <div class="formula-line">EC cost: ¥<span id="aossEcCost">0.00</span></div>
                                            <div class="formula-line">CC cost: ¥<span id="aossCcCost">0.00</span></div>
                                            <div class="formula-line">Special cargo surcharge: ¥<span id="aossSpecialCargo">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="tplAossAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL MSS - West (duty incl.)</h4>
                                        <div class="value" id="tplMssAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (Chargeable weight × 3PL West per KG) + (IB Fee × Units × Exchange) + Special cargo surcharge</div>
                                            <div class="formula-line">Per KG fee total: ¥<span id="tplPerKg">0.00</span></div>
                                            <div class="formula-line">IB fee: ¥<span id="tplIBFee">0.00</span></div>
                                            <div class="formula-line">Special cargo surcharge: ¥<span id="tplSpecialCargo">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="tplMssAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL Express AOSS (duty excl. + duty)</h4>
                                        <div class="value" id="expressAossAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (Chargeable weight x WC% × Express WC rate) + (Chargeable weight x EC% × Express EC rate) + (Chargeable weight x CC% × Express CC rate) + (3PL Declared Value RMB/Unit × Units × Tariff rate) + Special cargo surcharge</div>
                                            <div class="formula-line">West cost: ¥<span id="expressAossWestCost">0.00</span></div>
                                            <div class="formula-line">East cost: ¥<span id="expressAossEastCost">0.00</span></div>
                                            <div class="formula-line">Central cost: ¥<span id="expressAossCentralCost">0.00</span></div>
                                            <div class="formula-line">Duty cost: ¥<span id="expressAossDutyCost">0.00</span></div>
                                            <div class="formula-line">Special cargo surcharge: ¥<span id="expressAossSpecialCargo">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="tplexpressAossAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                    
                                    <div class="comparison-card tpl">
                                        <h4>3PL Express MSS - West (duty excl. + duty)</h4>
                                        <div class="value" id="expressMssAirCost">¥0.00</div>
                                        
                                        <div class="formula-breakdown">
                                            <div class="formula-line">Formula = (Chargeable weight × Express West per KG) + (IB Fee × Units × Exchange) + (3PL Declared Value RMB/Unit × Units × Tariff rate) + Special cargo surcharge</div>
                                            <div class="formula-line">Per KG fee total: ¥<span id="expressPerKg">0.00</span></div>
                                            <div class="formula-line">IB fee: ¥<span id="expressIBFee">0.00</span></div>
                                            <div class="formula-line">Duty cost: ¥<span id="expressDutyCost">0.00</span></div>
                                            <div class="formula-line">Special cargo surcharge: ¥<span id="expressSpecialCargo">0.00</span></div>
											<div class="formula-line cost-per-unit">Total cost per chargeable KG: ¥<span id="tplexpressMssAirCostPerKg">0.00</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="air-noResultsSection">
                            <div class="result-container">
                                <h3>Results will appear here</h3>
                                <p>Please fill all parameters and click "Calculate Costs" button</p>
                                <i class="fas fa-calculator" style="font-size: 2.5rem; color: var(--primary); margin: 15px 0;"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="custom-params-panel" id="tpl-custom-air">
                        <h3>3PL Rate Customization</h3>
                        
                        <div class="air-param-group">
                            <div class="air-param-subgroup">
                                <div class="sub-section-title">3PL Air</div>
                                <div class="sub-section-description">Duty inclusive RMB/kg, 7-9 days SLA from origin pick-up or 5-8 days from flight departure to FC delivery</div>
                                <div class="param-grid">
                                    <div class="param-item">
                                        <label>HKG-WC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgHkgWc70" value="50.688">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-WC 71-99KG</label>
                                        <input type="number" id="customTplPerKgHkgWc99" value="50.688">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-WC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgHkgWc100" value="49.752">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-EC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgHkgEc70" value="54">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-EC 71-99KG</label>
                                        <input type="number" id="customTplPerKgHkgEc99" value="54">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-EC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgHkgEc100" value="52.704">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-CC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgHkgCc70" value="52.992">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-CC 71-99KG</label>
                                        <input type="number" id="customTplPerKgHkgCc99" value="52.992">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG-CC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgHkgCc100" value="51.768">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-WC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgPvgWc70" value="42.768">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-WC 71-99KG</label>
                                        <input type="number" id="customTplPerKgPvgWc99" value="42.768">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-WC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgPvgWc100" value="38.664">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-EC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgPvgEc70" value="44.784">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-EC 71-99KG</label>
                                        <input type="number" id="customTplPerKgPvgEc99" value="44.784">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-EC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgPvgEc100" value="41.688">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-CC &lt;=70KG</label>
                                        <input type="number" id="customTplPerKgPvgCc70" value="43.776">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-CC 71-99KG</label>
                                        <input type="number" id="customTplPerKgPvgCc99" value="43.776">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG-CC &gt;=100KG</label>
                                        <input type="number" id="customTplPerKgPvgCc100" value="40.68">
                                    </div>
                                    
                                    <div class="param-item special-cargo-item">
                                        <label>Special cargo surcharge total</label>
                                        <input type="number" id="customTplSpecialCargo" value="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="air-param-subgroup">
                                <div class="sub-section-title">Express</div>
                                <div class="sub-section-description">Not duty inclusive RMB/kg, ~5 days SLA</div>
                                <div class="param-grid">
                                    <div class="param-item">
                                        <label>HKG &lt;=70KG</label>
                                        <input type="number" id="customTplExpressPerKgHkg70" value="48.96">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG 71-99KG</label>
                                        <input type="number" id="customTplExpressPerKgHkg99" value="48.96">
                                    </div>
                                    <div class="param-item">
                                        <label>HKG &gt;=100KG</label>
                                        <input type="number" id="customTplExpressPerKgHkg100" value="48.384">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG &lt;=70KG</label>
                                        <input type="number" id="customTplExpressPerKgPvg70" value="47.96">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG 71-99KG</label>
                                        <input type="number" id="customTplExpressPerKgPvg99" value="47.96">
                                    </div>
                                    <div class="param-item">
                                        <label>PVG &gt;=100KG</label>
                                        <input type="number" id="customTplExpressPerKgPvg100" value="47.384">
                                    </div>
                                    
                                    <div class="param-item special-cargo-item">
                                        <label>Special cargo surcharge total</label>
                                        <input type="number" id="customTplExpressSpecialCargo" value="0">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="sub-section-title">Other</div>
                        <div class="param-grid">
                            <div class="param-item">
                                <label>Exchange Rate (USD/RMB)</label>
                                <input type="number" id="customAirExchangeRate" step="0.01" value="7.1">
                            </div>
                        </div>
                        
                        <div class="param-buttons">
                            <button class="btn btn-custom" id="applyAirCustomRatesBtn">
                                <i class="fas fa-check"></i> Apply Custom Rates
                            </button>
                            <button class="btn btn-custom" id="resetAirToPresetBtn">
                                <i class="fas fa-undo"></i> Reset to Preset
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="air-instructions-content">
                    <div class="instructions-content">
                        <h3><i class="fas fa-info-circle"></i> Air Freight Cost Calculator Instructions</h3>
                        
                        <div class="file-info">
                            <h4>AGL Rate Card Version: valid from Oct 9, 2025</h4>
                        </div>
                        
                        <h3>AGL Rate Card</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Currency</th>
                                    <th>Incoterm</th>
                                    <th>Product</th>
                                    <th>POL</th>
                                    <th>Fixed fee</th>
                                    <th>Per KG fee</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>RMB</td>
                                    <td>DDP/EXW</td>
                                    <td>MSS</td>
                                    <td>HongKong</td>
                                    <td>825.000</td>
                                    <td>48.784</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>DDP/EXW</td>
                                    <td>MSS</td>
                                    <td>Shanghai</td>
                                    <td>713.880</td>
                                    <td>44.084</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>DDP/EXW</td>
                                    <td>AMP</td>
                                    <td>HongKong</td>
                                    <td>825.000</td>
                                    <td>56.776</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>DDP/EXW</td>
                                    <td>AMP</td>
                                    <td>Shanghai</td>
                                    <td>713.880</td>
                                    <td>52.076</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>FOB</td>
                                    <td>MSS</td>
                                    <td>HongKong</td>
                                    <td>547.200</td>
                                    <td>42.672</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>FOB</td>
                                    <td>MSS</td>
                                    <td>Shanghai</td>
                                    <td>547.200</td>
                                    <td>42.972</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>FOB</td>
                                    <td>AMP</td>
                                    <td>HongKong</td>
                                    <td>547.200</td>
                                    <td>50.664</td>
                                </tr>
                                <tr>
                                    <td>RMB</td>
                                    <td>FOB</td>
                                    <td>AMP</td>
                                    <td>Shanghai</td>
                                    <td>547.200</td>
                                    <td>50.964</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>How to Use</h3>
                        <ol>
                            <li>Fill in all required parameters in the "Parameter Settings" section.</li>
                            <li>Click "Calculate Costs with Pre-set Rates" to see the results.</li>
                            <li>You can customize 3PL rates in the "3PL Rate Customization" section and apply them.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="page-content" id="knowledge-page" style="display:none;">
            <div class="page-header">
                <h1><i class="fas fa-book"></i> Knowledge Center</h1>
            </div>
            <div class="placeholder">
                <i class="fas fa-book"></i>
                <h3>Knowledge Center</h3>
                <p>This section is currently under development and will be available soon.</p>
            </div>
        </div>
        
        <div class="page-content" id="course-page" style="display:none;">
            <div class="page-header">
                <h1><i class="fas fa-graduation-cap"></i> Training Courses</h1>
            </div>
            <div class="placeholder">
                <i class="fas fa-graduation-cap"></i>
                <h3>Training Courses</h3>
                <p>This section is currently under development and will be available soon.</p>
            </div>
        </div>
        
        <div class="page-content" id="demo-page" style="display:none;">
            <div class="page-header">
                <h1><i class="fas fa-desktop"></i> System Demo</h1>
            </div>
            <div class="placeholder">
                <i class="fas fa-desktop"></i>
                <h3>System Demo</h3>
                <p>This section is currently under development and will be available soon.</p>
            </div>
        </div>
        
        <div class="page-content" id="home-page" style="display:none;">
            <div class="page-header">
                <h1><i class="fas fa-home"></i> Home</h1>
            </div>
            <div class="placeholder">
                <i class="fas fa-home"></i>
                <h3>Welcome to Sales Toolkits</h3>
                <p>Select a tool from the sidebar to get started.</p>
				<p style="margin-top: 20px;">Find the latest version and guidebook from this <a href="https://quip-amazon.com/6pfAA81Mtbkl#ZIC9AAT8P8V" target=“_blank” class="contact-link">Quip</a> and feedback your comments if any.</p>
            </div>
        </div>
    </div>
    
    <!-- Floating navigation buttons -->
    <div class="floating-nav ocean-floating-nav">
        <button class="floating-btn" onclick="scrollToSection('parameter-settings')">Parameter Settings</button>
        <button class="floating-btn" onclick="scrollToSection('fcl-results')">FCL with IB fee</button>
        <button class="floating-btn" onclick="scrollToSection('lcl-results')">LCL with IB fee</button>
        <button class="floating-btn" onclick="scrollToSection('tpl-custom')">3PL Rate Customization</button>
    </div>
    
    <div class="floating-nav air-floating-nav" style="display: none;">
        <button class="floating-btn" onclick="scrollToSection('parameter-settings-air')">Parameter Settings</button>
        <button class="floating-btn" onclick="scrollToSection('air-resultsSection')">Calculation Results</button>
        <button class="floating-btn" onclick="scrollToSection('tpl-custom-air')">3PL Rate Customization</button>
    </div>
	
	<!-- 自定义提示框 -->
    <div class="custom-alert-modal" id="customAlertModal">
        <div class="custom-alert-content">
            <div class="custom-alert-message" id="customAlertMessage"></div>
            <button class="custom-alert-ok" id="customAlertOK">OK</button>
        </div>
    </div>

    <script>
	// 自定义alert函数
function customAlert(message) {
    const modal = document.getElementById('customAlertModal');
    const messageElement = document.getElementById('customAlertMessage');
    const okButton = document.getElementById('customAlertOK');
    
    messageElement.textContent = message;
    modal.style.display = 'flex';
    
    okButton.onclick = function() {
        modal.style.display = 'none';
    };
}
        // Password validation logic
        document.addEventListener('DOMContentLoaded', function() {
		// 自定义提示函数
		function showCustomAlert(message) {
			const modal = document.getElementById('customAlertModal');
			const messageElement = document.getElementById('customAlertMessage');
			const okButton = document.getElementById('customAlertOK');
			
			messageElement.textContent = message;
			modal.style.display = 'flex';
			
			okButton.onclick = function() {
				modal.style.display = 'none';
			};
			
			// 点击蒙层也可以关闭
			modal.onclick = function(e) {
				if (e.target === modal) {
					modal.style.display = 'none';
				}
			};
		}

		// Ocean Freight 按钮事件监听
		document.getElementById('calculateBtn').addEventListener('click', function() {
			// 显示结果区域，隐藏无结果提示
			document.getElementById('resultsSection').classList.remove('hidden');
			document.getElementById('noResultsSection').style.display = 'none';
				
			// 在计算完成后显示提示
			setTimeout(function() {
				showCustomAlert('Ocean freight cost calculation completed with pre-set rates.');
			}, 100);
		});

		document.getElementById('applyCustomRatesBtn').addEventListener('click', function() {
			// 显示结果区域，隐藏无结果提示
			document.getElementById('resultsSection').classList.remove('hidden');
			document.getElementById('noResultsSection').style.display = 'none';
			
			setTimeout(function() {
				showCustomAlert('Custom ocean freight rates have been applied successfully.');
			}, 100);
		});

		document.getElementById('resetToPresetBtn').addEventListener('click', function() {
			// 原有的重置逻辑保持不变...
			
			setTimeout(function() {
				showCustomAlert('Ocean freight rates have been reset to preset values.');
			}, 100);
		});

		// Air Freight 按钮事件监听
		document.getElementById('calculateAirBtn').addEventListener('click', function() {
			// 显示结果区域，隐藏无结果提示
			document.getElementById('air-resultsSection').classList.remove('hidden');
			document.getElementById('air-noResultsSection').style.display = 'none';
			
			setTimeout(function() {
				showCustomAlert('Air freight cost calculation completed with pre-set rates.');
			}, 100);
		});

		document.getElementById('applyAirCustomRatesBtn').addEventListener('click', function() {
			// 原有的应用空运自定义费率逻辑保持不变...
			
			setTimeout(function() {
				showCustomAlert('Air freight custom rates have been applied successfully.');
			}, 100);
		});

		document.getElementById('resetAirToPresetBtn').addEventListener('click', function() {
			// 显示结果区域，隐藏无结果提示
			document.getElementById('air-resultsSection').classList.remove('hidden');
			document.getElementById('air-noResultsSection').style.display = 'none';
			
			setTimeout(function() {
				showCustomAlert('Air freight rates have been reset to preset values.');
			}, 100);
		});
		
            
            // 初始化预设参数
            let oceanPresetRates = {
                tplWestFclRate: 3508,
                tplEastFclRate: 4614,
                tplCentralFclRate: 4220,
                tplWestRmbPerKg: 4.25,
                tplEastRmbPerKg: 4.99,
                tplCentralRmbPerKg: 6.09,
                tplWestRmbPerCbm: 613.74,
                tplEastRmbPerCbm: 738.36,
                tplCentralRmbPerCbm: 922.43,
                exchangeRate: 7.1
            };
            
            let airPresetRates = {
                tplPerKgHkgWc70: 49.00,
                tplPerKgHkgWc99: 49.00,
                tplPerKgHkgWc100: 48.00,
                tplPerKgHkgEc70: 51.25,
                tplPerKgHkgEc99: 51.25,
                tplPerKgHkgEc100: 50.00,
                tplPerKgHkgCc70: 52.25,
                tplPerKgHkgCc99: 52.25,
                tplPerKgHkgCc100: 51.00,
                tplPerKgPvgWc70: 51.80,
                tplPerKgPvgWc99: 46.80,
                tplPerKgPvgWc100: 42.68,
                tplPerKgPvgEc70: 47.81,
                tplPerKgPvgEc99: 47.81,
                tplPerKgPvgEc100: 44.71,
                tplPerKgPvgCc70: 46.8,
                tplPerKgPvgCc99: 46.8,
                tplPerKgPvgCc100: 43.70,
                tplExpressPerKgHkg70: 45.62,
                tplExpressPerKgHkg99: 44.81,
                tplExpressPerKgHkg100: 44.81,
                tplExpressPerKgPvg70: 47.62,
                tplExpressPerKgPvg99: 46.81,
                tplExpressPerKgPvg100: 46.81,
                exchangeRate: 7.1,
                tplSpecialCargo: 0,
                tplExpressSpecialCargo: 0
            };
            
			// SMP百分比验证函数
			function validateSMPPercentages() {
				const smpWest = parseFloat(document.getElementById('smpWestPercent').value) || 0;
				const smpMidEast = parseFloat(document.getElementById('smpMidEastPercent').value) || 0;
				const smpSouthEast = parseFloat(document.getElementById('smpSouthEastPercent').value) || 0;
				const smpNorthEast = parseFloat(document.getElementById('smpNorthEastPercent').value) || 0;
				const smpCentral = parseFloat(document.getElementById('smpCentralPercent').value) || 0;
				
				const total = smpWest + smpMidEast + smpSouthEast + smpNorthEast + smpCentral;
				const errorElement = document.getElementById('smpPercentError');
				
				if (Math.abs(total - 100) > 0.1) {
					errorElement.style.display = 'block';
					return false;
				} else {
					errorElement.style.display = 'none';
					return true;
				}
			}

			// 为SMP百分比输入框添加事件监听
			document.getElementById('smpWestPercent').addEventListener('input', validateSMPPercentages);
			document.getElementById('smpMidEastPercent').addEventListener('input', validateSMPPercentages);
			document.getElementById('smpSouthEastPercent').addEventListener('input', validateSMPPercentages);
			document.getElementById('smpNorthEastPercent').addEventListener('input', validateSMPPercentages);
			document.getElementById('smpCentralPercent').addEventListener('input', validateSMPPercentages);
			
			// 3PL AOSS百分比验证函数
			function validateAOSSPercentages() {
				const westPercent = parseFloat(document.getElementById('westUnitPercent').value) || 0;
				const eastPercent = parseFloat(document.getElementById('eastUnitPercent').value) || 0;
				const centralPercent = parseFloat(document.getElementById('centralUnitPercent').value) || 0;
				
				const total = westPercent + eastPercent + centralPercent;
				const errorElement = document.getElementById('aossPercentError');
				
				if (Math.abs(total - 100) > 0.1) {
					errorElement.style.display = 'block';
					return false;
				} else {
					errorElement.style.display = 'none';
					return true;
				}
			}

			// 为3PL AOSS百分比输入框添加事件监听
			document.getElementById('westUnitPercent').addEventListener('input', validateAOSSPercentages);
			document.getElementById('eastUnitPercent').addEventListener('input', validateAOSSPercentages);
			document.getElementById('centralUnitPercent').addEventListener('input', validateAOSSPercentages);
			
            // AGL预设费率
            let aglPresetRates = {
                ampFclFixedBooking: 106,
                ampFclBooking40HQ: 8500,
                mssFclFixedWest: 106,
                mssFclFixedEast: 106,
                mss40HQWest: 4199,
                mss40HQEast: 5474,
                ampLclFixed: 100.89,
                ampLclRatePerCBM: 162.4,
                mssLclFixedWest: 100.89,
                mssLclFixedEast: 100.89,
                mssLclRatePerCbmWest: 90.65,
                mssLclRatePerCbmEast: 122.21,
                smpRegionalPercents: {
                    west: 0.24,
                    midEast: 0.23,
                    southEast: 0.17,
                    northEast: 0.15,
                    central: 0.21
                }
            };
            
            // FCL 40HQ费用映射表
            const ampFclBooking40HQRates = {
                "NINGBO": 8028.98,
                "YANTIAN": 7967.37,
                "SHANGHAI": 8098.04,
                "XIAMEN": 7939.79,
                "QINGDAO": 8094.35,
                "TIANJIN": 8488.47,
                "FUZHOU": 8507,
                "HONGKONG": 8057.76,
                "ZHUHAI": 8514,
                "LIANYUNGANG": 8515
            };
			
			// SMP FCL 40HQ费用映射表
			const smpFclBooking40HQRates = {
				"NINGBO": {
					"US West": 3781.6746,
					"US Central": 3780.045,
					"US Mid-East": 4829.6845,
					"US South-East": 4392.9971,
					"US North-East": 5087.6295
				},
				"YANTIAN": {
					"US West": 3667.2577,
					"US Central": 3665.6281,
					"US Mid-East": 4692.3788,
					"US South-East": 4306.8309,
					"US North-East": 5069.2971
				},
				"SHANGHAI": {
					"US West": 3792.2788,
					"US Central": 3790.6492,
					"US Mid-East": 4716.1154,
					"US South-East": 4409.245,
					"US North-East": 5064.6661
				},
				"XIAMEN": {
					"US West": 3637.7239,
					"US Central": 3636.0929,
					"US Mid-East": 4694.7647,
					"US South-East": 4482.5183,
					"US North-East": 4972.1309
				},
				"QINGDAO": {
					"US West": 3794.4507,
					"US Central": 3792.8211,
					"US Mid-East": 4486.6704,
					"US South-East": 4352.4464,
					"US North-East": 4938.9633
				},
				"TIANJIN": {
					"US West": 4234.1267,
					"US Central": 4232.4971,
					"US Mid-East": 4688.6267,
					"US South-East": 4418.8577,
					"US North-East": 5045.2521
				},
				"FUZHOU": {
					"US West": 4242,
					"US Central": 4242,
					"US Mid-East": 4569.3436,
					"US South-East": 4306.4197,
					"US North-East": 5014.2563
				},
				"HONGKONG": {
					"US West": 3752.9394,
					"US Central": 3751.3098,
					"US Mid-East": 4999,
					"US South-East": 4349.1042,
					"US North-East": 4999
				},
				"ZHUHAI": {
					"US West": 4249,
					"US Central": 4249,
					"US Mid-East": 4603.2478,
					"US South-East": 4353.014,
					"US North-East": 5062.9028
				},
				"LIANYUNGANG": {
					"US West": 4250,
					"US Central": 4250,
					"US Mid-East": 5524,
					"US South-East": 5524,
					"US North-East": 5524
				}
			};
            
            const mssFclBooking40HQWestRates = {
                "NINGBO": 3777.98,
                "YANTIAN": 3662.37,
                "SHANGHAI": 3793.75,
                "XIAMEN": 3634.79,
                "QINGDAO": 3789.35,
                "TIANJIN": 4183.47,
                "FUZHOU": 4202,
                "HONGKONG": 3752.76,
                "ZHUHAI": 4209,
                "LIANYUNGANG": 4210
            };
            
            const mssFclBooking40HQEastRates = {
                "NINGBO": 4953.88,
                "YANTIAN": 4877.7,
                "SHANGHAI": 4885.52,
                "XIAMEN": 4829.31,
                "QINGDAO": 4708.26,
                "TIANJIN": 4857.9,
                "FUZHOU": 4786.24,
                "HONGKONG": 5219.68,
                "ZHUHAI": 5524,
                "LIANYUNGANG": 5525
            };
            
            // LCL费用映射表
            const ampLclRates = {
                "NINGBO": { exportClearance: 86.82, reserved: 0, rates: [135.26, 135.26, 135.26, 135.26] },
                "SHANGHAI": { exportClearance: 89.52, reserved: 0, rates: [138.61, 138.61, 138.61, 138.61] },
                "XIAMEN": { exportClearance: 94.03, reserved: 0, rates: [137.34, 137.34, 137.34, 137.34] },
                "QINGDAO": { exportClearance: 96.73, reserved: 0, rates: [113.44, 113.44, 113.44, 113.44] },
                "SHENZHEN": { exportClearance: 101.24, reserved: 0, rates: [135.01, 135.01, 135.01, 135.01] }
            };
            
            const mssLclWestRates = {
                "NINGBO": { exportClearance: 86.82, reserved: 0, rates: [63.51, 63.51, 63.51, 63.51] },
                "SHANGHAI": { exportClearance: 89.52, reserved: 0, rates: [66.86, 66.86, 66.86, 66.86] },
                "XIAMEN": { exportClearance: 94.03, reserved: 0, rates: [65.59, 65.59, 65.59, 65.59] },
                "QINGDAO": { exportClearance: 96.73, reserved: 0, rates: [41.69, 41.69, 41.69, 41.69] },
                "SHENZHEN": { exportClearance: 101.24, reserved: 0, rates: [63.26, 63.26, 63.26, 63.26] }
            };
            
            const mssLclEastRates = {
                "NINGBO": { exportClearance: 86.82, reserved: 0, rates: [81.7, 81.7, 81.7, 81.7] },
                "SHANGHAI": { exportClearance: 89.52, reserved: 0, rates: [87.81, 87.81, 87.81, 87.81] },
                "XIAMEN": { exportClearance: 94.03, reserved: 0, rates: [81.69, 81.69, 81.69, 81.69] },
                "QINGDAO": { exportClearance: 96.73, reserved: 0, rates: [52.45, 52.45, 52.45, 52.45] },
                "SHENZHEN": { exportClearance: 101.24, reserved: 0, rates: [83.27, 83.27, 83.27, 83.27] }
            };
			
			const smpLclRates = {
				"NINGBO": {
					"US West": { fixed: 46.8169, rates: [66.9211, 66.9211, 66.9211, 66.9211] },
					"US Central": { fixed: 46.8169, rates: [62.4436, 62.4436, 62.4436, 62.4436] },
					"US South-East": { fixed: 46.8169, rates: [77.0197, 77.0197, 77.0197, 77.0197] },
					"US Mid-East": { fixed: 46.8169, rates: [84.4676, 84.4676, 84.4676, 84.4676] },
					"US North-East": { fixed: 46.8169, rates: [88.5, 88.5, 88.5, 88.5] }
				},
				"SHANGHAI": {
					"US West": { fixed: 49.5211, rates: [64.6211, 64.6211, 64.6211, 64.6211] },
					"US Central": { fixed: 49.5211, rates: [60.1422, 60.1422, 60.1422, 60.1422] },
					"US South-East": { fixed: 49.5211, rates: [75.1521, 75.1521, 75.1521, 75.1521] },
					"US Mid-East": { fixed: 49.5211, rates: [80.3535, 80.3535, 80.3535, 80.3535] },
					"US North-East": { fixed: 49.5211, rates: [86.0802, 86.0802, 86.0802, 86.0802] }
				},
				"XIAMEN": {
					"US West": { fixed: 54.0281, rates: [64.9253, 64.9253, 64.9253, 64.9253] },
					"US Central": { fixed: 54.0281, rates: [60.4478, 60.4478, 60.4478, 60.4478] },
					"US South-East": { fixed: 54.0281, rates: [79.6887, 79.6887, 79.6887, 79.6887] },
					"US Mid-East": { fixed: 54.0281, rates: [83.814, 83.814, 83.814, 83.814] },
					"US North-East": { fixed: 54.0281, rates: [88.2507, 88.2507, 88.2507, 88.2507] }
				},
				"QINGDAO": {
					"US West": { fixed: 56.7323, rates: [67.0225, 67.0225, 67.0225, 67.0225] },
					"US Central": { fixed: 56.7323, rates: [62.545, 62.545, 62.545, 62.545] },
					"US South-East": { fixed: 56.7323, rates: [76.914, 76.914, 76.914, 76.914] },
					"US Mid-East": { fixed: 56.7323, rates: [77.2535, 77.2535, 77.2535, 77.2535] },
					"US North-East": { fixed: 56.7323, rates: [87.0971, 87.0971, 87.0971, 87.0971] }
				},
				"TIANJIN": {
					"US West": { fixed: 47.7183, rates: [105.9239, 105.9239, 105.4295, 87.6943] },
					"US Central": { fixed: 47.7183, rates: [105.9239, 105.9239, 105.4295, 87.6943] },
					"US South-East": { fixed: 47.7183, rates: [138.7338, 138.7338, 138.1915, 114.8873] },
					"US Mid-East": { fixed: 47.7183, rates: [138.7338, 138.7338, 138.1915, 114.8873] },
					"US North-East": { fixed: 47.7183, rates: [138.7338, 138.7338, 138.1915, 114.8873] }
				},
				"SHENZHEN": {
					"US West": { fixed: 61.2394, rates: [64.7422, 64.7422, 64.7422, 64.7422] },
					"US Central": { fixed: 61.2394, rates: [60.2647, 60.2647, 60.2647, 60.2647] },
					"US South-East": { fixed: 61.2394, rates: [75.2521, 75.2521, 75.2521, 75.2521] },
					"US Mid-East": { fixed: 61.2394, rates: [81.9183, 81.9183, 81.9183, 81.9183] },
					"US North-East": { fixed: 61.2394, rates: [87.6169, 87.6169, 87.6169, 87.6169] }
				}
			};

            // Air freight rates
            const airAglRates = {
                "HONGKONG": {
                    "DDP": {
                        "MSS": { fixed: 825.000, perKg: 48.784 },
                        "AMP": { fixed: 825.000, perKg: 56.776 }
                    },
                    "EXW": {
                        "MSS": { fixed: 825.000, perKg: 48.784 },
                        "AMP": { fixed: 825.000, perKg: 56.776 }
                    },
                    "FOB": {
                        "MSS": { fixed: 547.200, perKg: 42.672 },
                        "AMP": { fixed: 547.200, perKg: 50.664 }
                    }
                },
                "SHANGHAI": {
                    "DDP": {
                        "MSS": { fixed: 713.880, perKg: 44.084 },
                        "AMP": { fixed: 713.880, perKg: 52.076 }
                    },
                    "EXW": {
                        "MSS": { fixed: 713.880, perKg: 44.084 },
                        "AMP": { fixed: 713.880, perKg: 52.076 }
                    },
                    "FOB": {
                        "MSS": { fixed: 547.200, perKg: 42.972 },
                        "AMP": { fixed: 547.200, perKg: 50.964 }
                    }
                }
            };
            
            // 使用预设参数初始化当前参数
            let currentOceanRates = {...oceanPresetRates};
            let currentAirRates = {...airPresetRates};
            let currentAglRates = {...aglPresetRates};
            
            // 辅助函数：格式化金额显示
            function formatCurrency(value, isRMB = false) {
                const symbol = isRMB ? '¥' : '$';
                return symbol + value.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            }
            
            // 滚动到指定部分
            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            }
            
            // 导航链接
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');
            const resultsSection = document.getElementById('resultsSection');
            const noResultsSection = document.getElementById('noResultsSection');
            const airResultsSection = document.getElementById('air-resultsSection');
            const airNoResultsSection = document.getElementById('air-noResultsSection');
            
            // 默认显示海运页面
            document.getElementById('ocean-page').style.display = 'block';
            
            // 导航点击事件
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
					//判断：如果链接有 data-external 属性，则放行
					if (this.hasAttribute('data-external')) {
						return true; // 允许默认跳转行为
					}
                    e.preventDefault();
                    
                    const targetPage = this.getAttribute('data-page');
                    
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    pages.forEach(page => {
                        page.style.display = 'none';
                    });
                    
                    document.getElementById(`${targetPage}-page`).style.display = 'block';
                    
                    // 显示/隐藏悬浮框
                    if (targetPage === 'ocean') {
                        document.querySelector('.ocean-floating-nav').style.display = 'flex';
                        document.querySelector('.air-floating-nav').style.display = 'none';
                    } else if (targetPage === 'air') {
                        document.querySelector('.ocean-floating-nav').style.display = 'none';
                        document.querySelector('.air-floating-nav').style.display = 'flex';
                    } else {
                        document.querySelector('.ocean-floating-nav').style.display = 'none';
                        document.querySelector('.air-floating-nav').style.display = 'none';
                    }
                    
                    // 默认显示成本比较器
                    if (targetPage === 'ocean' || targetPage === 'air') {
                        document.querySelector('.tab.active')?.classList.remove('active');
                        document.querySelector('.tab-content.active')?.classList.remove('active');
                        
                        const calculatorTab = document.querySelector(`[data-tab="${targetPage === 'ocean' ? 'calculator' : 'air-calculator'}"]`);
                        const calculatorContent = document.getElementById(`${targetPage === 'ocean' ? 'calculator' : 'air-calculator'}-content`);
                        
                        if (calculatorTab && calculatorContent) {
                            calculatorTab.classList.add('active');
                            calculatorContent.classList.add('active');
                        }
                    }
                });
            });
            
            // 标签切换
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tabId}-content`).classList.add('active');
                    
                    // 显示/隐藏悬浮框
                    const oceanActive = document.getElementById('ocean-page').style.display === 'block';
                    const airActive = document.getElementById('air-page').style.display === 'block';
                    
                    if (oceanActive && tabId === 'calculator') {
                        document.querySelector('.ocean-floating-nav').style.display = 'flex';
                    } else if (airActive && tabId === 'air-calculator') {
                        document.querySelector('.air-floating-nav').style.display = 'flex';
                    } else {
                        document.querySelector('.ocean-floating-nav').style.display = 'none';
                        document.querySelector('.air-floating-nav').style.display = 'none';
                    }
                });
            })
			
			// 修复悬浮按钮点击事件
				document.querySelectorAll('.floating-btn').forEach(btn => {
					btn.addEventListener('click', function() {
						const targetId = this.getAttribute('onclick').match(/scrollToSection\('(.+?)'\)/)[1];
						const target = document.getElementById(targetId);
						if (target) {
							target.scrollIntoView({ behavior: 'smooth' });
						}
					});
				});
			;
            
            // 海运逻辑
            const categorySelect = document.getElementById('category');
            const customTariffInput = document.getElementById('customTariffRate');
            const tariffError = document.getElementById('tariffError');
            
            // 预设关税数据
            const tariffRates = {
                "gl_home-improvement LED bulbs": 0.32,
                "gl_home-improvement Table lamps": 0.587,
                "gl_home-improvement Faucets": 0.55,
                "gl_wireless Phone cases": 0.428,
                "gl_wireless Data cables": 0.30,
                "gl_apparel Women's tops": 0.695,
                "gl_toy Toys": 0.30,
                "gl_beauty Nail clippers": 0.375,
                "gl_drugstore Trash bags": 0.33
            };
            
            // 更新关税显示
            function updateTariffDisplay() {
                if (categorySelect.value === 'custom') {
                    customTariffInput.disabled = false;
                } else {
                    customTariffInput.disabled = true;
                    const rate = tariffRates[categorySelect.value] || 0.35;
                    customTariffInput.value = (rate * 100).toFixed(1);
                }
            }
            
            // 初始化
            updateTariffDisplay();
            
            categorySelect.addEventListener('change', updateTariffDisplay);
            
            // 百分比输入处理
            customTariffInput.addEventListener('input', function(e) {
                let value = this.value.replace(/[^\d.]/g, '');
                
                let decimalCount = (value.match(/\./g) || []).length;
                if (decimalCount > 1) {
                    value = value.substring(0, value.lastIndexOf('.'));
                }
                
                let numValue = parseFloat(value) || 0;
                if (numValue < 0) {
                    numValue = 0;
                    value = '0';
                }
                
                this.value = value;
            });
            
            // 货币切换状态
            let isRMB = false;
            const currencyToggle = document.getElementById('currencyToggle');
            
            // 货币切换功能
            currencyToggle.addEventListener('click', function() {
                isRMB = !isRMB;
                this.textContent = isRMB ? 'Switch to USD' : 'Switch to RMB';
                
                // 更新所有显示的值
                updateCurrencyDisplay();
            });
            
            // 存储原始美元值
            const originalValues = {};
            
            // 更新货币显示
            function updateCurrencyDisplay() {
                const exchangeRate = currentOceanRates.exchangeRate;
                
                document.querySelectorAll('.comparison-card .value').forEach(el => {
                    const id = el.id;
                    if (!originalValues[id]) {
                        originalValues[id] = parseFloat(el.textContent.replace(/[^\d.-]/g, ''));
                    }
                    
                    let value = originalValues[id];
                    if (isRMB) {
                        value = value * exchangeRate;
                    }
                    
                    el.textContent = formatCurrency(value, isRMB);
                });
                
                document.querySelectorAll('.formula-line span').forEach(el => {
                    const text = el.textContent;
                    if (text.includes('$') || text.includes('¥')) {
                        const value = parseFloat(text.replace(/[^\d.-]/g, ''));
                        if (!isNaN(value)) {
                            const convertedValue = isRMB ? value * exchangeRate : value;
                            el.textContent = formatCurrency(convertedValue, isRMB).replace(/[¥$]/g, '');
                        }
                    }
                });
            }
            
			// 根据体积获取SMP LCL CBM费率的辅助函数
			function getSmpLclCbmRateByVolume(pol, region, volume) {
				const rateData = smpLclRates[pol]?.[region];
				if (!rateData) return 0;
				
				const rates = rateData.rates;
				let rate;
				
				if (volume <= 5) {
					rate = rates[0];
				} else if (volume <= 10) {
					rate = rates[1];
				} else if (volume <= 15) {
					rate = rates[2];
				} else {
					rate = rates[3];
				}
				
				return rate;
			}
			
			// 计算SMP LCL CBM总费用的函数
			function calculateSmpLclCbmCost(pol, region, volume) {
				if (volume <= 0) return 0;
				
				const rate = getSmpLclCbmRateByVolume(pol, region, volume);
				return volume * rate;
			}

			// 计算海运成本
			// 计算SMP FCL (FCL+LCL)费用的函数
			function calculateSmpFclCosts(pol, totalVolume, totalWeight, regionalData) {
				// SMP FCL固定费用
				const smpFclFixedFee = 106;
				
				// 特殊处理：对于YANTIAN/SHENZHEN，FCL使用YANTIAN费率，LCL使用SHENZHEN费率
				let fclPol = pol;
				let lclPol = pol;
				
				if (pol === "YANTIAN" || pol === "YANTIAN/SHENZHEN") {
					fclPol = "YANTIAN";  // FCL部分使用YANTIAN
					lclPol = "SHENZHEN"; // LCL部分使用SHENZHEN
				}
				
				// 获取SMP LCL固定费用和CBM费率 - 使用调整后的LCL POL
				const smpLclFixedFee = getSmpLclFixedFee(lclPol);
				
				// 计算各区域的FCL和LCL分配
				const totalPercent = regionalData.west.percent + regionalData.midEast.percent + 
									regionalData.southEast.percent + regionalData.northEast.percent + 
									regionalData.central.percent;
				
				// 计算各区域的集装箱数量和剩余LCL体积
				function calculateContainerAndLcl(volume) {
					let containerCount = 0;
					let remainingLclVolume = 0;
					
					if (volume <= 40) {
						// 小于等于40 CBM，全部走LCL
						containerCount = 0;
						remainingLclVolume = volume;
					} else if (volume > 68) {
						// 大于68 CBM，计算整柜数量
						containerCount = Math.floor(volume / 68);
						const remainder = volume % 68;
						
						if (remainder > 40) {
							// 余数大于40 CBM，再加一个整柜
							containerCount += 1;
							remainingLclVolume = 0;
						} else {
							// 余数小于等于40 CBM，余数走LCL
							remainingLclVolume = remainder;
						}
					} else {
						// 40 < volume <= 68，走一个整柜
						containerCount = 1;
						remainingLclVolume = 0;
					}
					
					return { containerCount, remainingLclVolume };
				}

				// 计算各区域的集装箱数量和LCL体积
				const westCalc = calculateContainerAndLcl(regionalData.west.cbm);
				const midEastCalc = calculateContainerAndLcl(regionalData.midEast.cbm);
				const southEastCalc = calculateContainerAndLcl(regionalData.southEast.cbm);
				const northEastCalc = calculateContainerAndLcl(regionalData.northEast.cbm);
				const centralCalc = calculateContainerAndLcl(regionalData.central.cbm);

				const westContainerCount = westCalc.containerCount;
				const midEastContainerCount = midEastCalc.containerCount;
				const southEastContainerCount = southEastCalc.containerCount;
				const northEastContainerCount = northEastCalc.containerCount;
				const centralContainerCount = centralCalc.containerCount;

				const westLclVolume = westCalc.remainingLclVolume;
				const midEastLclVolume = midEastCalc.remainingLclVolume;
				const southEastLclVolume = southEastCalc.remainingLclVolume;
				const northEastLclVolume = northEastCalc.remainingLclVolume;
				const centralLclVolume = centralCalc.remainingLclVolume;
				
				// 计算各区域FCL费用
				const westFcl40HQCost = westContainerCount * (smpFclBooking40HQRates[fclPol]?.["US West"] || 0);
				const midEastFcl40HQCost = midEastContainerCount * (smpFclBooking40HQRates[fclPol]?.["US Mid-East"] || 0);
				const southEastFcl40HQCost = southEastContainerCount * (smpFclBooking40HQRates[fclPol]?.["US South-East"] || 0);
				const northEastFcl40HQCost = northEastContainerCount * (smpFclBooking40HQRates[fclPol]?.["US North-East"] || 0);
				const centralFcl40HQCost = centralContainerCount * (smpFclBooking40HQRates[fclPol]?.["US Central"] || 0);
				
				// 计算各区域FCL固定费用
				const westFclFixedCost = westContainerCount * smpFclFixedFee;
				const midEastFclFixedCost = midEastContainerCount * smpFclFixedFee;
				const southEastFclFixedCost = southEastContainerCount * smpFclFixedFee;
				const northEastFclFixedCost = northEastContainerCount * smpFclFixedFee;
				const centralFclFixedCost = centralContainerCount * smpFclFixedFee;
				
				// 计算各区域LCL费用 - 基于剩余LCL体积和对应的费率区间（使用调整后的LCL POL）
				const westLclCbmCost = calculateSmpLclCbmCost(lclPol, "US West", westLclVolume);
				const midEastLclCbmCost = calculateSmpLclCbmCost(lclPol, "US Mid-East", midEastLclVolume);
				const southEastLclCbmCost = calculateSmpLclCbmCost(lclPol, "US South-East", southEastLclVolume);
				const northEastLclCbmCost = calculateSmpLclCbmCost(lclPol, "US North-East", northEastLclVolume);
				const centralLclCbmCost = calculateSmpLclCbmCost(lclPol, "US Central", centralLclVolume);
				
				// 计算各区域LCL固定费用（只有有LCL体积时才收取固定费用）
				const westLclFixedCost = westLclVolume > 0 ? smpLclFixedFee : 0;
				const midEastLclFixedCost = midEastLclVolume > 0 ? smpLclFixedFee : 0;
				const southEastLclFixedCost = southEastLclVolume > 0 ? smpLclFixedFee : 0;
				const northEastLclFixedCost = northEastLclVolume > 0 ? smpLclFixedFee : 0;
				const centralLclFixedCost = centralLclVolume > 0 ? smpLclFixedFee : 0;
				
				// 计算总费用
				const totalFclFixedCost = westFclFixedCost + midEastFclFixedCost + southEastFclFixedCost + 
										 northEastFclFixedCost + centralFclFixedCost;
				const totalFcl40HQCost = westFcl40HQCost + midEastFcl40HQCost + southEastFcl40HQCost + 
										northEastFcl40HQCost + centralFcl40HQCost;
				const totalLclFixedCost = westLclFixedCost + midEastLclFixedCost + southEastLclFixedCost + 
										 northEastLclFixedCost + centralLclFixedCost;
				const totalLclCbmCost = westLclCbmCost + midEastLclCbmCost + southEastLclCbmCost + 
									   northEastLclCbmCost + centralLclCbmCost;

				const totalCost = totalFclFixedCost + totalFcl40HQCost + totalLclFixedCost + totalLclCbmCost;
				
				// 计算单位成本
				const costPerKg = totalWeight > 0 ? totalCost / totalWeight : 0;
				const costPerCbm = totalVolume > 0 ? totalCost / totalVolume : 0;
				
				// 添加返回值
				const result = {
					totalCost,
					costPerKg,
					costPerCbm,
					west: {
						containerCount: westContainerCount,
						fclFixedCost: westFclFixedCost,
						lclFixedCount: westLclVolume > 0 ? 1 : 0,
						lclFixedCost: westLclFixedCost,
						fcl40HQCost: westFcl40HQCost,
						lclCbmCost: westLclCbmCost,
						lclVolume: westLclVolume,
						totalVolume: regionalData.west.cbm  // 添加总CBM用于显示
					},
					midEast: {
						containerCount: midEastContainerCount,
						fclFixedCost: midEastFclFixedCost,
						lclFixedCount: midEastLclVolume > 0 ? 1 : 0,
						lclFixedCost: midEastLclFixedCost,
						fcl40HQCost: midEastFcl40HQCost,
						lclCbmCost: midEastLclCbmCost,
						lclVolume: midEastLclVolume,
						totalVolume: regionalData.midEast.cbm
					},
					southEast: {
						containerCount: southEastContainerCount,
						fclFixedCost: southEastFclFixedCost,
						lclFixedCount: southEastLclVolume > 0 ? 1 : 0,
						lclFixedCost: southEastLclFixedCost,
						fcl40HQCost: southEastFcl40HQCost,
						lclCbmCost: southEastLclCbmCost,
						lclVolume: southEastLclVolume,
						totalVolume: regionalData.southEast.cbm
					},
					northEast: {
						containerCount: northEastContainerCount,
						fclFixedCost: northEastFclFixedCost,
						lclFixedCount: northEastLclVolume > 0 ? 1 : 0,
						lclFixedCost: northEastLclFixedCost,
						fcl40HQCost: northEastFcl40HQCost,
						lclCbmCost: northEastLclCbmCost,
						lclVolume: northEastLclVolume,
						totalVolume: regionalData.northEast.cbm
					},
					central: {
						containerCount: centralContainerCount,
						fclFixedCost: centralFclFixedCost,
						lclFixedCount: centralLclVolume > 0 ? 1 : 0,
						lclFixedCost: centralLclFixedCost,
						fcl40HQCost: centralFcl40HQCost,
						lclCbmCost: centralLclCbmCost,
						lclVolume: centralLclVolume,
						totalVolume: regionalData.central.cbm
					}
				};
				
				// 更新UI - 需要传递regionalData参数
				updateSmpFclUI(result, {
					west: { cbm: regionalData.west.cbm, percent: regionalData.west.percent },
					midEast: { cbm: regionalData.midEast.cbm, percent: regionalData.midEast.percent },
					southEast: { cbm: regionalData.southEast.cbm, percent: regionalData.southEast.percent },
					northEast: { cbm: regionalData.northEast.cbm, percent: regionalData.northEast.percent },
					central: { cbm: regionalData.central.cbm, percent: regionalData.central.percent }
				});

				// 添加返回值
				return result;
			}

			// 根据POL和区域获取SMP LCL CBM费率的辅助函数
			function getSmpLclCbmRateByRegion(pol, region) {
				const rateMap = {
					"NINGBO": {
						"US West": 66.9211,
						"US Central": 62.4436,
						"US South-East": 77.0197,
						"US Mid-East": 84.4676,
						"US North-East": 88.5
					},
					"SHANGHAI": {
						"US West": 64.6211,
						"US Central": 60.1422,
						"US South-East": 75.1521,
						"US Mid-East": 80.3535,
						"US North-East": 86.0802
					},
					"XIAMEN": {
						"US West": 64.9253,
						"US Central": 60.4478,
						"US South-East": 79.6887,
						"US Mid-East": 83.814,
						"US North-East": 88.2507
					},
					"QINGDAO": {
						"US West": 67.0225,
						"US Central": 62.545,
						"US South-East": 76.914,
						"US Mid-East": 77.2535,
						"US North-East": 87.0971
					},
					"TIANJIN": {
						"US West": 105.9239,
						"US Central": 105.9239,
						"US South-East": 138.7338,
						"US Mid-East": 138.7338,
						"US North-East": 138.7338
					},
					"SHENZHEN": {
						"US West": 64.7422,
						"US Central": 60.2647,
						"US South-East": 75.2521,
						"US Mid-East": 81.9183,
						"US North-East": 87.6169
					},
					"YANTIAN": {
						"US West": 64.7422,
						"US Central": 60.2647,
						"US South-East": 75.2521,
						"US Mid-East": 81.9183,
						"US North-East": 87.6169
					}
				};
				
				return rateMap[pol]?.[region] || 150;
			}
			
			// 根据POL获取SMP LCL固定费用的辅助函数
			function getSmpLclFixedFee(pol) {
				const fixedFeeMap = {
					"NINGBO": 46.8169,
					"SHANGHAI": 49.5211,
					"XIAMEN": 54.0281,
					"QINGDAO": 56.7323,
					"TIANJIN": 47.7183,
					"SHENZHEN": 61.2394,
					"YANTIAN": 61.2394
				};
				
				return fixedFeeMap[pol] || 50; // 如果找不到，使用默认值
			}

			// 更新SMP FCL UI显示的函数
			function updateSmpFclUI(data, regionalData) {
				// 格式化数字的辅助函数
				function formatNumber(value) {
					return parseFloat(value).toFixed(2);
				}
				
				// 更新West区域
				const westTotal = data.west.fclFixedCost + data.west.fcl40HQCost + data.west.lclFixedCost + data.west.lclCbmCost;
				document.getElementById('smpWestTotalCost').textContent = formatNumber(westTotal);
				document.getElementById('smpWestFclFixedCost').textContent = formatNumber(data.west.fclFixedCost);
				document.getElementById('smpWestFcl40HQCost').textContent = formatNumber(data.west.fcl40HQCost);
				document.getElementById('smpWestLclFixedCost').textContent = formatNumber(data.west.lclFixedCost);
				document.getElementById('smpWestLclCbmCost').textContent = formatNumber(data.west.lclCbmCost);
				document.getElementById('smpWestFclContainerCount').textContent = data.west.containerCount;
				document.getElementById('smpWestLclShipment').textContent = data.west.lclVolume > 0 ? 'Y' : 'N';
				document.getElementById('smpWestLclVolume').textContent = formatNumber(data.west.lclVolume);
				document.getElementById('smpWestTotalVolume').textContent = formatNumber(data.west.totalVolume);
				
				// 更新Mid-East区域
				const midEastTotal = data.midEast.fclFixedCost + data.midEast.fcl40HQCost + data.midEast.lclFixedCost + data.midEast.lclCbmCost;
				document.getElementById('smpMidEastTotalCost').textContent = formatNumber(midEastTotal);
				document.getElementById('smpMidEastFclFixedCost').textContent = formatNumber(data.midEast.fclFixedCost);
				document.getElementById('smpMidEastFcl40HQCost').textContent = formatNumber(data.midEast.fcl40HQCost);
				document.getElementById('smpMidEastLclFixedCost').textContent = formatNumber(data.midEast.lclFixedCost);
				document.getElementById('smpMidEastLclCbmCost').textContent = formatNumber(data.midEast.lclCbmCost);
				document.getElementById('smpMidEastFclContainerCount').textContent = data.midEast.containerCount;
				document.getElementById('smpMidEastLclShipment').textContent = data.midEast.lclVolume > 0 ? 'Y' : 'N';
				document.getElementById('smpMidEastLclVolume').textContent = formatNumber(data.midEast.lclVolume);
				document.getElementById('smpMidEastTotalVolume').textContent = formatNumber(data.midEast.totalVolume);
				
				// 更新South-East区域
				const southEastTotal = data.southEast.fclFixedCost + data.southEast.fcl40HQCost + data.southEast.lclFixedCost + data.southEast.lclCbmCost;
				document.getElementById('smpSouthEastTotalCost').textContent = formatNumber(southEastTotal);
				document.getElementById('smpSouthEastFclFixedCost').textContent = formatNumber(data.southEast.fclFixedCost);
				document.getElementById('smpSouthEastFcl40HQCost').textContent = formatNumber(data.southEast.fcl40HQCost);
				document.getElementById('smpSouthEastLclFixedCost').textContent = formatNumber(data.southEast.lclFixedCost);
				document.getElementById('smpSouthEastLclCbmCost').textContent = formatNumber(data.southEast.lclCbmCost);
				document.getElementById('smpSouthEastFclContainerCount').textContent = data.southEast.containerCount;
				document.getElementById('smpSouthEastLclShipment').textContent = data.southEast.lclVolume > 0 ? 'Y' : 'N';
				document.getElementById('smpSouthEastLclVolume').textContent = formatNumber(data.southEast.lclVolume);
				document.getElementById('smpSouthEastTotalVolume').textContent = formatNumber(data.southEast.totalVolume);
				
				// 更新North-East区域
				const northEastTotal = data.northEast.fclFixedCost + data.northEast.fcl40HQCost + data.northEast.lclFixedCost + data.northEast.lclCbmCost;
				document.getElementById('smpNorthEastTotalCost').textContent = formatNumber(northEastTotal);
				document.getElementById('smpNorthEastFclFixedCost').textContent = formatNumber(data.northEast.fclFixedCost);
				document.getElementById('smpNorthEastFcl40HQCost').textContent = formatNumber(data.northEast.fcl40HQCost);
				document.getElementById('smpNorthEastLclFixedCost').textContent = formatNumber(data.northEast.lclFixedCost);
				document.getElementById('smpNorthEastLclCbmCost').textContent = formatNumber(data.northEast.lclCbmCost);
				document.getElementById('smpNorthEastFclContainerCount').textContent = data.northEast.containerCount;
				document.getElementById('smpNorthEastLclShipment').textContent = data.northEast.lclVolume > 0 ? 'Y' : 'N';
				document.getElementById('smpNorthEastLclVolume').textContent = formatNumber(data.northEast.lclVolume);
				document.getElementById('smpNorthEastTotalVolume').textContent = formatNumber(data.northEast.totalVolume);
				
				// 更新Central区域
				const centralTotal = data.central.fclFixedCost + data.central.fcl40HQCost + data.central.lclFixedCost + data.central.lclCbmCost;
				document.getElementById('smpCentralTotalCost').textContent = formatNumber(centralTotal);
				document.getElementById('smpCentralFclFixedCost').textContent = formatNumber(data.central.fclFixedCost);
				document.getElementById('smpCentralFcl40HQCost').textContent = formatNumber(data.central.fcl40HQCost);
				document.getElementById('smpCentralLclFixedCost').textContent = formatNumber(data.central.lclFixedCost);
				document.getElementById('smpCentralLclCbmCost').textContent = formatNumber(data.central.lclCbmCost);
				document.getElementById('smpCentralFclContainerCount').textContent = data.central.containerCount;
				document.getElementById('smpCentralLclShipment').textContent = data.central.lclVolume > 0 ? 'Y' : 'N';
				document.getElementById('smpCentralLclVolume').textContent = formatNumber(data.central.lclVolume);
				document.getElementById('smpCentralTotalVolume').textContent = formatNumber(data.central.totalVolume);
				
				// 更新总费用
				const totalCost = westTotal + midEastTotal + southEastTotal + northEastTotal + centralTotal;
				document.getElementById('smpFclCost').textContent = '$' + formatNumber(totalCost);
				
				// 更新单位成本
				const totalWeight = data.west.totalVolume * 200 + data.midEast.totalVolume * 200 + data.southEast.totalVolume * 200 + data.northEast.totalVolume * 200 + data.central.totalVolume * 200;
				const totalVolume = data.west.totalVolume + data.midEast.totalVolume + data.southEast.totalVolume + data.northEast.totalVolume + data.central.totalVolume;
				
				if (document.getElementById('smpFclCostPerKg')) {
					document.getElementById('smpFclCostPerKg').textContent = formatNumber(totalWeight > 0 ? totalCost / totalWeight : 0);
				}
				if (document.getElementById('smpFclCostPerCbm')) {
					document.getElementById('smpFclCostPerCbm').textContent = formatNumber(totalVolume > 0 ? totalCost / totalVolume : 0);
				}
			}

			// 更新区域明细的辅助函数
			function updateRegionalBreakdown(region, data) {
				document.getElementById(`smp${region}FclContainerCount`).textContent = data.containerCount;
				document.getElementById(`smp${region}FclFixedCost`).textContent = data.fclFixedCost.toFixed(2);
				document.getElementById(`smp${region}LclFixedCount`).textContent = data.lclFixedCount;
				document.getElementById(`smp${region}LclFixedCost`).textContent = data.lclFixedCost.toFixed(2);
				document.getElementById(`smp${region}Fcl40HQCost`).textContent = data.fcl40HQCost.toFixed(2);
				document.getElementById(`smp${region}LclCbmCost`).textContent = data.lclCbmCost.toFixed(2);
			}
			
            function calculateCosts() {
                // 验证输入
                if (!validateSMPPercentages()) {
					return;
				}
				
				let tariffInput = customTariffInput.value;
				if (tariffInput.includes('%')) {
					tariffInput = tariffInput.replace('%', '');
				}
                const customTariff = parseFloat(tariffInput);
                const westPercent = parseFloat(document.getElementById('westUnitPercent').value);
                const eastPercent = parseFloat(document.getElementById('eastUnitPercent').value);
                const centralPercent = parseFloat(document.getElementById('centralUnitPercent').value);
                
                let valid = true;
                
                if (categorySelect.value === 'custom' && (isNaN(customTariff) || customTariff < 0)) {
                    tariffError.style.display = 'block';
                    valid = false;
                } else {
                    tariffError.style.display = 'none';
                }
                
                if (isNaN(westPercent) || westPercent < 0 || westPercent > 100) {
                    document.getElementById('westError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('westError').style.display = 'none';
                }
                
                if (isNaN(eastPercent) || eastPercent < 0 || eastPercent > 100) {
                    document.getElementById('eastError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('eastError').style.display = 'none';
                }
                
                if (isNaN(centralPercent) || centralPercent < 0 || centralPercent > 100) {
                    document.getElementById('centralError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('centralError').style.display = 'none';
                }
                
                if (!valid) {
                    return;
                }
                
                // 获取输入值
                const pol = document.getElementById('pol').value;
                const category = document.getElementById('category').value;
                const fclUnits = parseInt(document.getElementById('fclUnits').value) || 1000;
                const shipmentVolume = parseFloat(document.getElementById('shipmentVolume').value) || 25.5;
                const lclUnitsPerCBM = parseInt(document.getElementById('lclUnitsPerCBM').value) || 200;
                const lclKgPerCBM = parseInt(document.getElementById('lclKgPerCBM').value) || 500;
                const ibFeeWest = parseFloat(document.getElementById('ibFeeWest').value) || 0.3;
                const ibFeeEast = parseFloat(document.getElementById('ibFeeEast').value) || 0.16;
                const declareValueAGL = parseFloat(document.getElementById('declareValueAGL').value) || 1.0;
                const declareValue3PL = parseFloat(document.getElementById('declareValue3PL').value) || 1.0;
                
                // 确定POL映射
                const fclPol = pol === "YANTIAN" ? "YANTIAN" : pol;
                const lclPol = pol === "YANTIAN" ? "SHENZHEN" : pol;
                
                // 获取关税率
                let tariffRate;
                if (category === 'custom') {
                    tariffRate = customTariff / 100;
                } else {
                    tariffRate = tariffRates[category] || 0.35;
                }
                
                // 获取FCL费率
                const ampFclFixedBooking = currentAglRates.ampFclFixedBooking;
                const ampFclBooking40HQ = ampFclBooking40HQRates[fclPol] || 8500;
				// 获取totalKG：
				const totalKg = lclKgPerCBM * shipmentVolume;
                
                // 计算成本
                // 1. AGL AMP FCL
                const ampFclCost = ampFclFixedBooking + ampFclBooking40HQ;
                originalValues['ampFclCost'] = ampFclCost;
				const ampFclCostPerKg = ampFclCost / totalKg;
				const ampFclCostPerCbm = ampFclCost / shipmentVolume;
				document.getElementById('ampFclCostPerKg').textContent = ampFclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('ampFclCostPerCbm').textContent = ampFclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 2. AGL MSS FCL - West
                const aglMssFixedWest = currentAglRates.mssFclFixedWest;
                const aglMss40HQWest = mssFclBooking40HQWestRates[fclPol] || 4199;
                const aglMssIBWest = ibFeeWest * fclUnits;
                const aglMssFclWestCost = aglMssFixedWest + aglMss40HQWest + aglMssIBWest;
                originalValues['aglMssFclWestCost'] = aglMssFclWestCost;
				const mssFclWestCostPerKg = aglMssFclWestCost / totalKg;
				const mssFclWestCostPerCbm = aglMssFclWestCost / shipmentVolume;
				document.getElementById('mssFclWestCostPerKg').textContent = mssFclWestCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('mssFclWestCostPerCbm').textContent = mssFclWestCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 3. AGL MSS FCL - East
                const aglMssFixedEast = currentAglRates.mssFclFixedEast;
                const aglMss40HQEast = mssFclBooking40HQEastRates[fclPol] || 5474;
                const aglMssIBEast = ibFeeEast * fclUnits;
                const aglMssFclEastCost = aglMssFixedEast + aglMss40HQEast + aglMssIBEast;
                originalValues['aglMssFclEastCost'] = aglMssFclEastCost;
				const mssFclEastCostPerKg = aglMssFclEastCost / totalKg;
				const mssFclEastCostPerCbm = aglMssFclEastCost / shipmentVolume;
				document.getElementById('mssFclEastCostPerKg').textContent = mssFclEastCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('mssFclEastCostPerCbm').textContent = mssFclEastCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 4. 3PL AOSS FCL
                const aossWestCost = currentOceanRates.tplWestFclRate * (westPercent / 100);
                const aossEastCost = currentOceanRates.tplEastFclRate * (eastPercent / 100);
                const aossCentralCost = currentOceanRates.tplCentralFclRate * (centralPercent / 100);
                const tplAossFclCost = aossWestCost + aossEastCost + aossCentralCost;
                originalValues['tplAossFclCost'] = tplAossFclCost;
				const aossFclCostPerKg = tplAossFclCost / totalKg;
				const aossFclCostPerCbm = tplAossFclCost / shipmentVolume;
				document.getElementById('aossFclCostPerKg').textContent = aossFclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('aossFclCostPerCbm').textContent = aossFclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 5. 3PL MSS FCL - West
                const tplWestIB = ibFeeWest * fclUnits;
                const tplWestCost = currentOceanRates.tplWestFclRate + tplWestIB;
                originalValues['tplWestCost'] = tplWestCost;
				const tplWestCostPerKg = tplWestCost / totalKg;
				const tplWestCostPerCbm = tplWestCost / shipmentVolume;
				document.getElementById('tplWestCostPerKg').textContent = tplWestCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplWestCostPerCbm').textContent = tplWestCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 6. 3PL MSS FCL - East
                const tplEastIB = ibFeeEast * fclUnits;
                const tplEastCost = currentOceanRates.tplEastFclRate + tplEastIB;
                originalValues['tplEastCost'] = tplEastCost;
				const tplEastCostPerKg = tplEastCost / totalKg;
				const tplEastCostPerCbm = tplEastCost / shipmentVolume;
				document.getElementById('tplEastCostPerKg').textContent = tplEastCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplEastCostPerCbm').textContent = tplEastCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 更新FCL结果
                document.getElementById('ampFclCost').textContent = formatCurrency(ampFclCost);
                document.getElementById('aglMssFclWestCost').textContent = formatCurrency(aglMssFclWestCost);
                document.getElementById('aglMssFclEastCost').textContent = formatCurrency(aglMssFclEastCost);
                document.getElementById('tplAossFclCost').textContent = formatCurrency(tplAossFclCost);
                document.getElementById('tplWestCost').textContent = formatCurrency(tplWestCost);
                document.getElementById('tplEastCost').textContent = formatCurrency(tplEastCost);
                
                // 更新公式值
                document.getElementById('ampFclFixedBooking').textContent = ampFclFixedBooking.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('ampFclBooking40HQ').textContent = ampFclBooking40HQ.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aglMssFixedWest').textContent = aglMssFixedWest.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMss40HQWest').textContent = aglMss40HQWest.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssIBWest').textContent = aglMssIBWest.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aglMssFixedEast').textContent = aglMssFixedEast.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMss40HQEast').textContent = aglMss40HQEast.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssIBEast').textContent = aglMssIBEast.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplWestFixed').textContent = currentOceanRates.tplWestFclRate.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplWestIB').textContent = tplWestIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplEastFixed').textContent = currentOceanRates.tplEastFclRate.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplEastIB').textContent = tplEastIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aossWestCost').textContent = aossWestCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossEastCost').textContent = aossEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossCentralCost').textContent = aossCentralCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // LCL计算
                const totalUnitsLCL = shipmentVolume * lclUnitsPerCBM;
				const minKg = 50;
				const minCbm = 0.5;
                
                // 获取LCL费率
                const getLclRate = (rates, volume) => {
                    if (volume <= 5) return rates.rates[0];
                    if (volume <= 10) return rates.rates[1];
                    if (volume <= 15) return rates.rates[2];
                    return rates.rates[3];
                };
                
                // 7. AGL AMP LCL
                const ampLclData = ampLclRates[lclPol] || ampLclRates["SHENZHEN"];
                const ampLclFixedFee = ampLclData.exportClearance + ampLclData.reserved;
                const ampLclRatePerCBM = getLclRate(ampLclData, shipmentVolume);
                const ampLclDuty = totalUnitsLCL * declareValueAGL * tariffRate;
                const ampLclCost = ampLclFixedFee + (ampLclRatePerCBM * shipmentVolume) + ampLclDuty;
                originalValues['ampLclCost'] = ampLclCost;
				const ampLclCostPerKg = ampLclCost / totalKg;
				const ampLclCostPerCbm = ampLclCost / shipmentVolume;
				document.getElementById('ampLclCostPerKg').textContent = ampLclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('ampLclCostPerCbm').textContent = ampLclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 8. AGL MSS LCL - West
                const mssLclWestData = mssLclWestRates[lclPol] || mssLclWestRates["SHENZHEN"];
                const mssLclWestFixedFee = mssLclWestData.exportClearance + mssLclWestData.reserved;
                const mssLclWestRatePerCBM = getLclRate(mssLclWestData, shipmentVolume);
                const mssLclWestIB = ibFeeWest * totalUnitsLCL;
                const mssLclWestDuty = totalUnitsLCL * declareValueAGL * tariffRate;
                const aglMssLclWestCost = mssLclWestFixedFee + (mssLclWestRatePerCBM * shipmentVolume) + mssLclWestIB + mssLclWestDuty;
                originalValues['aglMssLclWestCost'] = aglMssLclWestCost;
				const aglMssLclWestCostPerKg = aglMssLclWestCost / totalKg;
				const aglMssLclWestCostPerCbm = aglMssLclWestCost / shipmentVolume;
				document.getElementById('aglMssLclWestCostPerKg').textContent = aglMssLclWestCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('aglMssLclWestCostPerCbm').textContent = aglMssLclWestCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 9. AGL MSS LCL - East
                const mssLclEastData = mssLclEastRates[lclPol] || mssLclEastRates["SHENZHEN"];
                const mssLclEastFixedFee = mssLclEastData.exportClearance + mssLclEastData.reserved;
                const mssLclEastRatePerCBM = getLclRate(mssLclEastData, shipmentVolume);
                const mssLclEastIB = ibFeeEast * totalUnitsLCL;
                const mssLclEastDuty = totalUnitsLCL * declareValueAGL * tariffRate;
                const aglMssLclEastCost = mssLclEastFixedFee + (mssLclEastRatePerCBM * shipmentVolume) + mssLclEastIB + mssLclEastDuty;
                originalValues['aglMssLclEastCost'] = aglMssLclEastCost;
				const aglMssLclEastCostPerKg = aglMssLclEastCost / totalKg;
				const aglMssLclEastCostPerCbm = aglMssLclEastCost / shipmentVolume;
				document.getElementById('aglMssLclEastCostPerKg').textContent = aglMssLclEastCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('aglMssLclEastCostPerCbm').textContent = aglMssLclEastCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 获取用户输入的SMP比例
				const smpWestPercent = parseFloat(document.getElementById('smpWestPercent').value) / 100;
				const smpMidEastPercent = parseFloat(document.getElementById('smpMidEastPercent').value) / 100;
				const smpSouthEastPercent = parseFloat(document.getElementById('smpSouthEastPercent').value) / 100;
				const smpNorthEastPercent = parseFloat(document.getElementById('smpNorthEastPercent').value) / 100;
				const smpCentralPercent = parseFloat(document.getElementById('smpCentralPercent').value) / 100;
				// 计算各区域CBM
				const westCbm = shipmentVolume * smpWestPercent;
				const midEastCbm = shipmentVolume * smpMidEastPercent;
				const southEastCbm = shipmentVolume * smpSouthEastPercent;
				const northEastCbm = shipmentVolume * smpNorthEastPercent;
				const centralCbm = shipmentVolume * smpCentralPercent;
				
				// 创建区域数据对象
				const regionalData = {
					west: { 
						percent: smpWestPercent, 
						cbm: shipmentVolume * smpWestPercent / 100 
					},
					midEast: { 
						percent: smpMidEastPercent, 
						cbm: shipmentVolume * smpMidEastPercent / 100 
					},
					southEast: { 
						percent: smpSouthEastPercent, 
						cbm: shipmentVolume * smpSouthEastPercent / 100 
					},
					northEast: { 
						percent: smpNorthEastPercent, 
						cbm: shipmentVolume * smpNorthEastPercent / 100 
					},
					central: { 
						percent: smpCentralPercent, 
						cbm: shipmentVolume * smpCentralPercent / 100 
					}
				};
				
				// 计算SMP FCL (FCL+LCL)费用
				const smpFclResult = calculateSmpFclCosts(fclPol, shipmentVolume, totalKg, {
					west: { cbm: westCbm, percent: smpWestPercent },
					midEast: { cbm: midEastCbm, percent: smpMidEastPercent },
					southEast: { cbm: southEastCbm, percent: smpSouthEastPercent },
					northEast: { cbm: northEastCbm, percent: smpNorthEastPercent },
					central: { cbm: centralCbm, percent: smpCentralPercent }
				});

				// 更新SMP FCL总费用显示
				document.getElementById('smpFclCost').textContent = formatCurrency(smpFclResult.totalCost);
				document.getElementById('smpFclCostPerKg').textContent = smpFclResult.costPerKg.toFixed(2);
				document.getElementById('smpFclCostPerCbm').textContent = smpFclResult.costPerCbm.toFixed(2);

				// 存储原始值用于货币切换
				originalValues['smpFclCost'] = smpFclResult.totalCost;

				// 10. AGL SMP LCL
				const smpFixedFeePerRegion = smpLclRates[lclPol]["US West"].fixed; // 所有区域固定费用相同，取第一个
				const smpFixedFee = smpFixedFeePerRegion * 5;

				const smpWestVolume = Math.max(shipmentVolume * smpWestPercent, 1);
				const smpMidEastVolume = Math.max(shipmentVolume * smpMidEastPercent, 1);
				const smpSouthEastVolume = Math.max(shipmentVolume * smpSouthEastPercent, 1);
				const smpNorthEastVolume = Math.max(shipmentVolume * smpNorthEastPercent, 1);
				const smpCentralVolume = Math.max(shipmentVolume * smpCentralPercent, 1);

				// 使用SMP LCL独立价卡计算各区域费用
				const smpWestCost = smpWestVolume * getLclRate(smpLclRates[lclPol]["US West"], smpWestVolume);
				const smpMidEastCost = smpMidEastVolume * getLclRate(smpLclRates[lclPol]["US Mid-East"], smpMidEastVolume);
				const smpSouthEastCost = smpSouthEastVolume * getLclRate(smpLclRates[lclPol]["US South-East"], smpSouthEastVolume);
				const smpNorthEastCost = smpNorthEastVolume * getLclRate(smpLclRates[lclPol]["US North-East"], smpNorthEastVolume);
				const smpCentralCost = smpCentralVolume * getLclRate(smpLclRates[lclPol]["US Central"], smpCentralVolume);

				const smpDuty = totalUnitsLCL * declareValueAGL * tariffRate;
				const smpLclCost = smpFixedFee + smpWestCost + smpMidEastCost + smpSouthEastCost + smpNorthEastCost + smpCentralCost + smpDuty;
				
				document.getElementById('smpLclCost').textContent = formatCurrency(smpLclCost);
				const smpLclCostPerKg = smpLclCost / totalKg;
				const smpLclCostPerCbm = smpLclCost / shipmentVolume;
				document.getElementById('smpLclCostPerKg').textContent = smpLclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('smpLclCostPerCbm').textContent = smpLclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
				originalValues['smpLclCost'] = smpLclCost;
				
                // 11. 3PL AOSS LCL (duty incl.)
                const aossLclWestCost = (currentOceanRates.tplWestRmbPerKg * Math.max(shipmentVolume * (westPercent/100) * lclKgPerCBM, minKg)) / currentOceanRates.exchangeRate;
                const aossLclEastCost = (currentOceanRates.tplEastRmbPerKg * Math.max(shipmentVolume * (eastPercent/100) * lclKgPerCBM, minKg)) / currentOceanRates.exchangeRate;
                const aossLclCentralCost = (currentOceanRates.tplCentralRmbPerKg * Math.max(shipmentVolume * (centralPercent/100) * lclKgPerCBM, minKg)) / currentOceanRates.exchangeRate;
                const tplAossLclDutyIncluded = aossLclWestCost + aossLclEastCost + aossLclCentralCost;
                originalValues['tplAossLclDutyIncluded'] = tplAossLclDutyIncluded;
				const tplaossLclDutyIncludedCostPerKg = tplAossLclDutyIncluded / totalKg;
				const tplaossLclDutyIncludedCostPerCbm = tplAossLclDutyIncluded / shipmentVolume;
				document.getElementById('tplaossLclDutyIncludedCostPerKg').textContent = tplaossLclDutyIncludedCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplaossLclDutyIncludedCostPerCbm').textContent = tplaossLclDutyIncludedCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 12. 3PL MSS LCL - West (duty incl.)
                const tplMssLclWestBaseDutyIncl = (currentOceanRates.tplWestRmbPerKg * Math.max(shipmentVolume * lclKgPerCBM, minKg)) / currentOceanRates.exchangeRate;
                const tplMssLclWestIBDutyIncl = ibFeeWest * totalUnitsLCL;
                const tplMssLclWestDutyIncl = tplMssLclWestBaseDutyIncl + tplMssLclWestIBDutyIncl;
                originalValues['tplMssLclWestDutyIncl'] = tplMssLclWestDutyIncl;
				const tplMssLclWestDutyInclCostPerKg = tplMssLclWestDutyIncl / totalKg;
				const tplMssLclWestDutyInclCostPerCbm = tplMssLclWestDutyIncl / shipmentVolume;
				document.getElementById('tplMssLclWestDutyInclCostPerKg').textContent = tplMssLclWestDutyInclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplMssLclWestDutyInclCostPerCbm').textContent = tplMssLclWestDutyInclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 13. 3PL MSS LCL - East (duty incl.)
                const tplMssLclEastBaseDutyIncl = (currentOceanRates.tplEastRmbPerKg * Math.max(shipmentVolume * lclKgPerCBM, minKg)) / currentOceanRates.exchangeRate;
                const tplMssLclEastIBDutyIncl = ibFeeEast * totalUnitsLCL;
                const tplMssLclEastDutyIncl = tplMssLclEastBaseDutyIncl + tplMssLclEastIBDutyIncl;
                originalValues['tplMssLclEastDutyIncl'] = tplMssLclEastDutyIncl;
				const tplMssLclEastDutyInclCostPerKg = tplMssLclEastDutyIncl / totalKg;
				const tplMssLclEastDutyInclCostPerCbm = tplMssLclEastDutyIncl / shipmentVolume;
				document.getElementById('tplMssLclEastDutyInclCostPerKg').textContent = tplMssLclEastDutyInclCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplMssLclEastDutyInclCostPerCbm').textContent = tplMssLclEastDutyInclCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 14. 3PL AOSS LCL (duty excl.) + Duty
                const aossLclWestCost2 = (currentOceanRates.tplWestRmbPerCbm * Math.max(shipmentVolume * (westPercent/100), minCbm)) / currentOceanRates.exchangeRate;
                const aossLclEastCost2 = (currentOceanRates.tplEastRmbPerCbm * Math.max(shipmentVolume * (eastPercent/100), minCbm)) / currentOceanRates.exchangeRate;
                const aossLclCentralCost2 = (currentOceanRates.tplCentralRmbPerCbm * Math.max(shipmentVolume * (centralPercent/100), minCbm)) / currentOceanRates.exchangeRate;
                const aossLclDuty = totalUnitsLCL * declareValue3PL * tariffRate;
                const tplAossLclWithoutDuty = aossLclWestCost2 + aossLclEastCost2 + aossLclCentralCost2 + aossLclDuty;
                originalValues['tplAossLclWithoutDuty'] = tplAossLclWithoutDuty;
				const tplAossLclWithoutDutyCostPerKg = tplAossLclWithoutDuty / totalKg;
				const tplAossLclWithoutDutyCostPerCbm = tplAossLclWithoutDuty / shipmentVolume;
				document.getElementById('tplAossLclWithoutDutyCostPerKg').textContent = tplAossLclWithoutDutyCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplAossLclWithoutDutyCostPerCbm').textContent = tplAossLclWithoutDutyCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 15. 3PL MSS LCL - West (duty excl.) + duty
                const tplMssLclWestBase = (currentOceanRates.tplWestRmbPerCbm * Math.max(shipmentVolume, minCbm)) / currentOceanRates.exchangeRate;
                const tplMssLclWestIB = ibFeeWest * totalUnitsLCL;
                const tplMssLclWestDuty = totalUnitsLCL * declareValue3PL * tariffRate;
                const tplMssLclWestCost = tplMssLclWestBase + tplMssLclWestIB + tplMssLclWestDuty;
                originalValues['tplMssLclWestCost'] = tplMssLclWestCost;
				const tplMssLclWestCostPerKg = tplMssLclWestCost / totalKg;
				const tplMssLclWestCostPerCbm = tplMssLclWestCost / shipmentVolume;
				document.getElementById('tplMssLclWestCostPerKg').textContent = tplMssLclWestCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplMssLclWestCostPerCbm').textContent = tplMssLclWestCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 16. 3PL MSS LCL - East (duty excl.) + duty
                const tplMssLclEastBase = (currentOceanRates.tplEastRmbPerCbm * Math.max(shipmentVolume, minCbm)) / currentOceanRates.exchangeRate;
                const tplMssLclEastIB = ibFeeEast * totalUnitsLCL;
                const tplMssLclEastDuty = totalUnitsLCL * declareValue3PL * tariffRate;
                const tplMssLclEastCost = tplMssLclEastBase + tplMssLclEastIB + tplMssLclEastDuty;
                originalValues['tplMssLclEastCost'] = tplMssLclEastCost;
				const tplMssLclEastCostPerKg = tplMssLclEastCost / totalKg;
				const tplMssLclEastCostPerCbm = tplMssLclEastCost / shipmentVolume;
				document.getElementById('tplMssLclEastCostPerKg').textContent = tplMssLclEastCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
				document.getElementById('tplMssLclEastCostPerCbm').textContent = tplMssLclEastCostPerCbm.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 更新LCL结果
                document.getElementById('ampLclCost').textContent = formatCurrency(ampLclCost);
                document.getElementById('smpLclCost').textContent = formatCurrency(smpLclCost);
                document.getElementById('aglMssLclWestCost').textContent = formatCurrency(aglMssLclWestCost);
                document.getElementById('aglMssLclEastCost').textContent = formatCurrency(aglMssLclEastCost);
                document.getElementById('tplAossLclDutyIncluded').textContent = formatCurrency(tplAossLclDutyIncluded);
                document.getElementById('tplMssLclWestDutyIncl').textContent = formatCurrency(tplMssLclWestDutyIncl);
                document.getElementById('tplMssLclEastDutyIncl').textContent = formatCurrency(tplMssLclEastDutyIncl);
                document.getElementById('tplAossLclWithoutDuty').textContent = formatCurrency(tplAossLclWithoutDuty);
                document.getElementById('tplMssLclWestCost').textContent = formatCurrency(tplMssLclWestCost);
                document.getElementById('tplMssLclEastCost').textContent = formatCurrency(tplMssLclEastCost);
                
                // 更新LCL公式值
                document.getElementById('ampLclFixed').textContent = ampLclFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('ampLclRate').textContent = (ampLclRatePerCBM * shipmentVolume).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('ampLclDuty').textContent = ampLclDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aglMssLclWestFixed').textContent = mssLclWestFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclWestRate').textContent = (mssLclWestRatePerCBM * shipmentVolume).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclWestIB').textContent = mssLclWestIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclWestDuty').textContent = mssLclWestDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aglMssLclEastFixed').textContent = mssLclEastFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclEastRate').textContent = (mssLclEastRatePerCBM * shipmentVolume).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclEastIB').textContent = mssLclEastIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aglMssLclEastDuty').textContent = mssLclEastDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('smpFixedFee').textContent = smpFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpWestCost').textContent = smpWestCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpMidEastCost').textContent = smpMidEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpSouthEastCost').textContent = smpSouthEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpNorthEastCost').textContent = smpNorthEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpCentralCost').textContent = smpCentralCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('smpDuty').textContent = smpDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aossLclWestCost').textContent = aossLclWestCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossLclEastCost').textContent = aossLclEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossLclCentralCost').textContent = aossLclCentralCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplMssLclWestBaseDutyIncl').textContent = tplMssLclWestBaseDutyIncl.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclWestIBDutyIncl').textContent = tplMssLclWestIBDutyIncl.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplMssLclEastBaseDutyIncl').textContent = tplMssLclEastBaseDutyIncl.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclEastIBDutyIncl').textContent = tplMssLclEastIBDutyIncl.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aossLclWestCost2').textContent = aossLclWestCost2.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossLclEastCost2').textContent = aossLclEastCost2.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossLclCentralCost2').textContent = aossLclCentralCost2.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossLclDuty').textContent = aossLclDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplMssLclWestBase').textContent = tplMssLclWestBase.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclWestIB').textContent = tplMssLclWestIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclWestDuty').textContent = tplMssLclWestDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplMssLclEastBase').textContent = tplMssLclEastBase.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclEastIB').textContent = tplMssLclEastIB.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplMssLclEastDuty').textContent = tplMssLclEastDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 显示结果
                resultsSection.classList.remove('hidden');
                noResultsSection.classList.add('hidden');
                
                // 更新货币显示
                updateCurrencyDisplay();
            }
            
            // 海运计算按钮事件
            document.getElementById('calculateBtn').addEventListener('click', calculateCosts);
            
            // 空运逻辑
            const airCategorySelect = document.getElementById('air-category');
            const airCustomTariffInput = document.getElementById('air-customTariffRate');
            const airTariffError = document.getElementById('air-tariffError');
			const airminKg = 50;
            
            // 更新空运关税显示
            function updateAirTariffDisplay() {
                if (airCategorySelect.value === 'custom') {
                    airCustomTariffInput.disabled = false;
                } else {
                    airCustomTariffInput.disabled = true;
                    const rate = tariffRates[airCategorySelect.value] || 0.35;
                    airCustomTariffInput.value = (rate * 100).toFixed(1);
                }
            }
            
            // 初始化
            updateAirTariffDisplay();
            
            airCategorySelect.addEventListener('change', updateAirTariffDisplay);
            
            // 空运重量计算
            function calculateWeights() {
                const volumeCBM = parseFloat(document.getElementById('volumeCBM').value) || 0;
                const weightKg = parseFloat(document.getElementById('weightKg').value) || 0;
                const westPercent = parseFloat(document.getElementById('air-westUnitPercent').value) || 0;
                const eastPercent = parseFloat(document.getElementById('air-eastUnitPercent').value) || 0;
                const centralPercent = parseFloat(document.getElementById('air-centralUnitPercent').value) || 0;
                
                const volumeWeight = volumeCBM / 0.006; // 调整计算逻辑
                document.getElementById('volumeWeight').value = volumeWeight.toFixed(2);
                
                const chargeableWeight = Math.max(Math.max(volumeWeight, weightKg), airminKg);
                document.getElementById('chargeableWeight').value = chargeableWeight.toFixed(2);
                
                document.getElementById('chargeableWeightWC').value = (chargeableWeight * westPercent / 100).toFixed(2);
                document.getElementById('chargeableWeightEC').value = (chargeableWeight * eastPercent / 100).toFixed(2);
                document.getElementById('chargeableWeightCC').value = (chargeableWeight * centralPercent / 100).toFixed(2);
            }
            
            // 监听输入变化
            document.getElementById('volumeCBM').addEventListener('input', calculateWeights);
            document.getElementById('weightKg').addEventListener('input', calculateWeights);
            document.getElementById('air-westUnitPercent').addEventListener('input', calculateWeights);
            document.getElementById('air-eastUnitPercent').addEventListener('input', calculateWeights);
            document.getElementById('air-centralUnitPercent').addEventListener('input', calculateWeights);
            
            // 初始化重量计算
            calculateWeights();
            
            // 获取费率函数（根据POL和重量）
            function getAirRate(pol, region, weight) {
                const prefix = pol === 'HONGKONG' ? 'Hkg' : 'Pvg';
                let weightCategory;
                
                if (weight <= 70) weightCategory = '70';
                else if (weight <= 99) weightCategory = '99';
                else weightCategory = '100';
                
                const rateId = `customTplPerKg${prefix}${region}${weightCategory}`;
                return parseFloat(document.getElementById(rateId).value) || 0;
            }
            
            // 获取快递费率函数
            function getExpressRate(pol, weight) {
                const prefix = pol === 'HONGKONG' ? 'Hkg' : 'Pvg';
                let weightCategory;
                
                if (weight <= 70) weightCategory = '70';
                else if (weight <= 99) weightCategory = '99';
                else weightCategory = '100';
                
                const rateId = `customTplExpressPerKg${prefix}${weightCategory}`;
                return parseFloat(document.getElementById(rateId).value) || 0;
            }
            
            // 计算空运成本
            function calculateAirCosts() {
                // 验证输入
                let tariffInput = airCustomTariffInput.value;
                if (tariffInput.includes('%')) {
                    tariffInput = tariffInput.replace('%', '');
                }
                const customTariff = parseFloat(tariffInput);
                const westPercent = parseFloat(document.getElementById('air-westUnitPercent').value);
                const eastPercent = parseFloat(document.getElementById('air-eastUnitPercent').value);
                const centralPercent = parseFloat(document.getElementById('air-centralUnitPercent').value);
                
                let valid = true;
                
                if (airCategorySelect.value === 'custom' && (isNaN(customTariff) || customTariff < 0)) {
                    airTariffError.style.display = 'block';
                    valid = false;
                } else {
                    airTariffError.style.display = 'none';
                }
                
                if (isNaN(westPercent) || westPercent < 0 || westPercent > 100) {
                    document.getElementById('air-westError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('air-westError').style.display = 'none';
                }
                
                if (isNaN(eastPercent) || eastPercent < 0 || eastPercent > 100) {
                    document.getElementById('air-eastError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('air-eastError').style.display = 'none';
                }
                
                if (isNaN(centralPercent) || centralPercent < 0 || centralPercent > 100) {
                    document.getElementById('air-centralError').style.display = 'block';
                    valid = false;
                } else {
                    document.getElementById('air-centralError').style.display = 'none';
                }
                
                if (!valid) {
                    return;
                }
                
                // 获取输入值
                const pol = document.getElementById('air-pol').value;
                const incoterm = document.getElementById('incoterm').value;
                const units = parseInt(document.getElementById('units').value) || 5000;
                const weightKg = parseFloat(document.getElementById('weightKg').value) || 200;
                const volumeCBM = parseFloat(document.getElementById('volumeCBM').value) || 2;
                const declareValueAGL = parseFloat(document.getElementById('declareValueAGL-air').value) || 1;
                const declareValue3PL = parseFloat(document.getElementById('declareValue3PL-air').value) || 1;
                const ibFeeWest = parseFloat(document.getElementById('ibFeeWest-air').value) || 0.3;
                const exchangeRate = parseFloat(document.getElementById('customAirExchangeRate').value) || 7.1;
                const tplSpecialCargo = parseFloat(document.getElementById('customTplSpecialCargo').value) || 0;
                const tplExpressSpecialCargo = parseFloat(document.getElementById('customTplExpressSpecialCargo').value) || 0;
                
                // 获取关税率
                let tariffRate;
                if (airCategorySelect.value === 'custom') {
                    tariffRate = customTariff / 100;
                } else {
                    tariffRate = tariffRates[airCategorySelect.value] || 0.35;
                }
                
                // 重新计算重量
                calculateWeights();
                
                // 获取重量值
                const chargeableWeight = parseFloat(document.getElementById('chargeableWeight').value) || 0;
                const chargeableWeightWC = parseFloat(document.getElementById('chargeableWeightWC').value) || 0;
                const chargeableWeightEC = parseFloat(document.getElementById('chargeableWeightEC').value) || 0;
                const chargeableWeightCC = parseFloat(document.getElementById('chargeableWeightCC').value) || 0;
                
                // 计算成本
                // 1. AGL AMP
                const ampRates = airAglRates[pol][incoterm]["AMP"];
                const ampFixedFee = ampRates.fixed;
                const ampPerKg = ampRates.perKg;
                const ampPerKgTotal = chargeableWeight * ampPerKg;
                const ampDuty = units * declareValueAGL * tariffRate;
                const ampAirCost = ampFixedFee + ampPerKgTotal + ampDuty;
				const ampAirCostPerKg = ampAirCost / chargeableWeight;
				document.getElementById('ampAirCostPerKg').textContent = ampAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 2. AGL MSS
                const mssRates = airAglRates[pol][incoterm]["MSS"];
                const mssFixedFee = mssRates.fixed;
                const mssPerKg = mssRates.perKg;
                const mssPerKgTotal = chargeableWeight * mssPerKg;
                const mssIBFee = ibFeeWest * units * exchangeRate;
                const mssDuty = units * declareValueAGL * tariffRate;
                const mssAirCost = mssFixedFee + mssPerKgTotal + mssIBFee + mssDuty;
				const mssAirCostPerKg = mssAirCost / chargeableWeight;
				document.getElementById('mssAirCostPerKg').textContent = mssAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 3. 3PL AOSS cost (duty incl.)
                const wcRate = getAirRate(pol, 'Wc', chargeableWeightWC);
                const ecRate = getAirRate(pol, 'Ec', chargeableWeightEC);
                const ccRate = getAirRate(pol, 'Cc', chargeableWeightCC);
                
                const wcCost = chargeableWeightWC * wcRate;
                const ecCost = chargeableWeightEC * ecRate;
                const ccCost = chargeableWeightCC * ccRate;
                const tplAossAirCost = wcCost + ecCost + ccCost + tplSpecialCargo;
				const tplAossAirCostPerKg = tplAossAirCost / chargeableWeight;
				document.getElementById('tplAossAirCostPerKg').textContent = tplAossAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 4. 3PL MSS (duty incl.)
                const tplPerKgRate = getAirRate(pol, 'Wc', chargeableWeight); // 使用总重量
                const tplPerKgTotal = chargeableWeight * tplPerKgRate;
                const tplIBFee = ibFeeWest * units * exchangeRate;
                const tplMssAirCost = tplPerKgTotal + tplIBFee + tplSpecialCargo;
				const tplMssAirCostPerKg = tplMssAirCost / chargeableWeight;
				document.getElementById('tplMssAirCostPerKg').textContent = tplMssAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 5. 3PL Express AOSS cost (duty excl. + duty)
                const expressWcRate = getExpressRate(pol, chargeableWeightWC);
                const expressEcRate = getExpressRate(pol, chargeableWeightEC);
                const expressCcRate = getExpressRate(pol, chargeableWeightCC);
                
                const expressAossWestCost = chargeableWeightWC * expressWcRate;
                const expressAossEastCost = chargeableWeightEC * expressEcRate;
                const expressAossCentralCost = chargeableWeightCC * expressCcRate;
                const expressAossDutyCost = units * declareValue3PL * tariffRate;
                const expressAossAirCost = expressAossWestCost + expressAossEastCost + expressAossCentralCost + expressAossDutyCost + tplExpressSpecialCargo;
				const tplexpressAossAirCostPerKg = expressAossAirCost / chargeableWeight;
				document.getElementById('tplexpressAossAirCostPerKg').textContent = tplexpressAossAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 6. 3PL Express MSS cost (duty excl. + duty)
                const expressPerKgRate = getExpressRate(pol, chargeableWeight);
                const expressPerKgTotal = chargeableWeight * expressPerKgRate;
                const expressIBFee = ibFeeWest * units * exchangeRate;
                const expressDutyCost = units * declareValue3PL * tariffRate;
                const expressMssAirCost = expressPerKgTotal + expressIBFee + expressDutyCost + tplExpressSpecialCargo;
				const tplexpressMssAirCostPerKg = expressMssAirCost / chargeableWeight;
				document.getElementById('tplexpressMssAirCostPerKg').textContent = tplexpressMssAirCostPerKg.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 更新结果
                document.getElementById('ampAirCost').textContent = `¥${ampAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                document.getElementById('mssAirCost').textContent = `¥${mssAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                document.getElementById('tplAossAirCost').textContent = `¥${tplAossAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                document.getElementById('tplMssAirCost').textContent = `¥${tplMssAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                document.getElementById('expressAossAirCost').textContent = `¥${expressAossAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                document.getElementById('expressMssAirCost').textContent = `¥${expressMssAirCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                
                // 更新公式值
                document.getElementById('ampFixedFee').textContent = ampFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('ampPerKg').textContent = ampPerKgTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('ampDutyAir').textContent = ampDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('mssFixedFee').textContent = mssFixedFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('mssPerKg').textContent = mssPerKgTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('mssIBFee').textContent = mssIBFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('mssDutyAir').textContent = mssDuty.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('aossWcCost').textContent = wcCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossEcCost').textContent = ecCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossCcCost').textContent = ccCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('aossSpecialCargo').textContent = tplSpecialCargo.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('tplPerKg').textContent = tplPerKgTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplIBFee').textContent = tplIBFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('tplSpecialCargo').textContent = tplSpecialCargo.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('expressAossWestCost').textContent = expressAossWestCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressAossEastCost').textContent = expressAossEastCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressAossCentralCost').textContent = expressAossCentralCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressAossDutyCost').textContent = expressAossDutyCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressAossSpecialCargo').textContent = tplExpressSpecialCargo.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                document.getElementById('expressPerKg').textContent = expressPerKgTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressIBFee').textContent = expressIBFee.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressDutyCost').textContent = expressDutyCost.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                document.getElementById('expressSpecialCargo').textContent = tplExpressSpecialCargo.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                
                // 显示结果
                airResultsSection.classList.remove('hidden');
                airNoResultsSection.classList.add('hidden');
            }
            
            // 空运计算按钮事件
            document.getElementById('calculateAirBtn').addEventListener('click', calculateAirCosts);
            
            // 应用自定义海运费率
            document.getElementById('applyCustomRatesBtn').addEventListener('click', function() {
                currentOceanRates.tplWestFclRate = parseFloat(document.getElementById('customTplWestFclRate').value) || oceanPresetRates.tplWestFclRate;
                currentOceanRates.tplEastFclRate = parseFloat(document.getElementById('customTplEastFclRate').value) || oceanPresetRates.tplEastFclRate;
                currentOceanRates.tplCentralFclRate = parseFloat(document.getElementById('customTplCentralFclRate').value) || oceanPresetRates.tplCentralFclRate;
                currentOceanRates.tplWestRmbPerKg = parseFloat(document.getElementById('customTplWestRmbPerKg').value) || oceanPresetRates.tplWestRmbPerKg;
                currentOceanRates.tplEastRmbPerKg = parseFloat(document.getElementById('customTplEastRmbPerKg').value) || oceanPresetRates.tplEastRmbPerKg;
                currentOceanRates.tplCentralRmbPerKg = parseFloat(document.getElementById('customTplCentralRmbPerKg').value) || oceanPresetRates.tplCentralRmbPerKg;
                currentOceanRates.tplWestRmbPerCbm = parseFloat(document.getElementById('customTplWestRmbPerCbm').value) || oceanPresetRates.tplWestRmbPerCbm;
                currentOceanRates.tplEastRmbPerCbm = parseFloat(document.getElementById('customTplEastRmbPerCbm').value) || oceanPresetRates.tplEastRmbPerCbm;
                currentOceanRates.tplCentralRmbPerCbm = parseFloat(document.getElementById('customTplCentralRmbPerCbm').value) || oceanPresetRates.tplCentralRmbPerCbm;
                currentOceanRates.exchangeRate = parseFloat(document.getElementById('customExchangeRate').value) || oceanPresetRates.exchangeRate;
                
                // 使用新费率重新计算
                calculateCosts();
                
                customAlert('3PL Custom rates applied successfully!');
            });
            
            // 重置海运费率
            document.getElementById('resetToPresetBtn').addEventListener('click', function() {
                currentOceanRates = {...oceanPresetRates};
                
                document.getElementById('customTplWestFclRate').value = oceanPresetRates.tplWestFclRate;
                document.getElementById('customTplEastFclRate').value = oceanPresetRates.tplEastFclRate;
                document.getElementById('customTplCentralFclRate').value = oceanPresetRates.tplCentralFclRate;
                document.getElementById('customTplWestRmbPerKg').value = oceanPresetRates.tplWestRmbPerKg;
                document.getElementById('customTplEastRmbPerKg').value = oceanPresetRates.tplEastRmbPerKg;
                document.getElementById('customTplCentralRmbPerKg').value = oceanPresetRates.tplCentralRmbPerKg;
                document.getElementById('customTplWestRmbPerCbm').value = oceanPresetRates.tplWestRmbPerCbm;
                document.getElementById('customTplEastRmbPerCbm').value = oceanPresetRates.tplEastRmbPerCbm;
                document.getElementById('customTplCentralRmbPerCbm').value = oceanPresetRates.tplCentralRmbPerCbm;
                document.getElementById('customExchangeRate').value = oceanPresetRates.exchangeRate;
                
                // 使用预设费率重新计算
                calculateCosts();
                
                customAlert('3PL Rates reset to preset values!');
            });
            
            // 应用自定义空运费率
            document.getElementById('applyAirCustomRatesBtn').addEventListener('click', function() {
                // 更新3PL费率
                currentAirRates.tplPerKgHkgWc70 = parseFloat(document.getElementById('customTplPerKgHkgWc70').value) || 50.688
                currentAirRates.tplPerKgHkgWc99 = parseFloat(document.getElementById('customTplPerKgHkgWc99').value) || 50.688;
                currentAirRates.tplPerKgHkgWc100 = parseFloat(document.getElementById('customTplPerKgHkgWc100').value) || 49.752;
                currentAirRates.tplPerKgHkgEc70 = parseFloat(document.getElementById('customTplPerKgHkgEc70').value) || 54;
                currentAirRates.tplPerKgHkgEc99 = parseFloat(document.getElementById('customTplPerKgHkgEc99').value) || 54;
                currentAirRates.tplPerKgHkgEc100 = parseFloat(document.getElementById('customTplPerKgHkgEc100').value) || 52.704;
                currentAirRates.tplPerKgHkgCc70 = parseFloat(document.getElementById('customTplPerKgHkgCc70').value) || 52.992;
                currentAirRates.tplPerKgHkgCc99 = parseFloat(document.getElementById('customTplPerKgHkgCc99').value) || 52.992;
                currentAirRates.tplPerKgHkgCc100 = parseFloat(document.getElementById('customTplPerKgHkgCc100').value) || 51.768;
                currentAirRates.tplPerKgPvgWc70 = parseFloat(document.getElementById('customTplPerKgPvgWc70').value) || 42.768;
                currentAirRates.tplPerKgPvgWc99 = parseFloat(document.getElementById('customTplPerKgPvgWc99').value) || 42.768;
                currentAirRates.tplPerKgPvgWc100 = parseFloat(document.getElementById('customTplPerKgPvgWc100').value) || 38.664;
                currentAirRates.tplPerKgPvgEc70 = parseFloat(document.getElementById('customTplPerKgPvgEc70').value) || 44.784;
                currentAirRates.tplPerKgPvgEc99 = parseFloat(document.getElementById('customTplPerKgPvgEc99').value) || 44.784;
                currentAirRates.tplPerKgPvgEc100 = parseFloat(document.getElementById('customTplPerKgPvgEc100').value) || 41.688;
                currentAirRates.tplPerKgPvgCc70 = parseFloat(document.getElementById('customTplPerKgPvgCc70').value) || 43.776;
                currentAirRates.tplPerKgPvgCc99 = parseFloat(document.getElementById('customTplPerKgPvgCc99').value) || 43.776;
                currentAirRates.tplPerKgPvgCc100 = parseFloat(document.getElementById('customTplPerKgPvgCc100').value) || 40.68;
                
                // 更新快递费率
                currentAirRates.tplExpressPerKgHkg70 = parseFloat(document.getElementById('customTplExpressPerKgHkg70').value) || 48.96;
                currentAirRates.tplExpressPerKgHkg99 = parseFloat(document.getElementById('customTplExpressPerKgHkg99').value) || 48.96;
                currentAirRates.tplExpressPerKgHkg100 = parseFloat(document.getElementById('customTplExpressPerKgHkg100').value) || 48.384;
                currentAirRates.tplExpressPerKgPvg70 = parseFloat(document.getElementById('customTplExpressPerKgPvg70').value) || 47.96;
                currentAirRates.tplExpressPerKgPvg99 = parseFloat(document.getElementById('customTplExpressPerKgPvg99').value) || 47.96;
                currentAirRates.tplExpressPerKgPvg100 = parseFloat(document.getElementById('customTplExpressPerKgPvg100').value) || 47.384;
                
                // 更新特殊货物附加费
                currentAirRates.tplSpecialCargo = parseFloat(document.getElementById('customTplSpecialCargo').value) || 0;
                currentAirRates.tplExpressSpecialCargo = parseFloat(document.getElementById('customTplExpressSpecialCargo').value) || 0;
                
                // 更新汇率
                currentAirRates.exchangeRate = parseFloat(document.getElementById('customAirExchangeRate').value) || 7.1;
                
                // 使用新费率重新计算
                calculateAirCosts();
                
                customAlert('Custom rates applied successfully!');
            });
            
            // 重置空运费率
            document.getElementById('resetAirToPresetBtn').addEventListener('click', function() {
                currentAirRates = {...airPresetRates};
                
                // 重置所有输入字段
                document.getElementById('customTplPerKgHkgWc70').value = 50.688;
                document.getElementById('customTplPerKgHkgWc99').value = 50.688;
                document.getElementById('customTplPerKgHkgWc100').value = 49.752;
                document.getElementById('customTplPerKgHkgEc70').value = 54;
                document.getElementById('customTplPerKgHkgEc99').value = 54;
                document.getElementById('customTplPerKgHkgEc100').value = 52.704;
                document.getElementById('customTplPerKgHkgCc70').value = 52.992;
                document.getElementById('customTplPerKgHkgCc99').value = 52.992;
                document.getElementById('customTplPerKgHkgCc100').value = 51.768;
                document.getElementById('customTplPerKgPvgWc70').value = 42.768;
                document.getElementById('customTplPerKgPvgWc99').value = 42.768;
                document.getElementById('customTplPerKgPvgWc100').value = 38.664;
                document.getElementById('customTplPerKgPvgEc70').value = 44.784;
                document.getElementById('customTplPerKgPvgEc99').value = 44.784;
                document.getElementById('customTplPerKgPvgEc100').value = 41.688;
                document.getElementById('customTplPerKgPvgCc70').value = 43.776;
                document.getElementById('customTplPerKgPvgCc99').value = 43.776;
                document.getElementById('customTplPerKgPvgCc100').value = 40.68;
                document.getElementById('customTplExpressPerKgHkg70').value = 48.96;
                document.getElementById('customTplExpressPerKgHkg99').value = 48.96;
                document.getElementById('customTplExpressPerKgHkg100').value = 48.384;
                document.getElementById('customTplExpressPerKgPvg70').value = 47.96;
                document.getElementById('customTplExpressPerKgPvg99').value = 47.96;
                document.getElementById('customTplExpressPerKgPvg100').value = 47.384;
                document.getElementById('customTplSpecialCargo').value = 0;
                document.getElementById('customTplExpressSpecialCargo').value = 0;
                document.getElementById('customAirExchangeRate').value = 7.1;
                
                // 使用预设费率重新计算
                calculateAirCosts();
                
                customAlert('Rates reset to preset values!');
            });
        });
		
		// 表格筛选功能
		document.addEventListener('DOMContentLoaded', function() {
			const productFilter = document.getElementById('productFilter');
			const polFilter = document.getElementById('polFilter');
			const regionFilter = document.getElementById('regionFilter');
			
			if (productFilter && polFilter && regionFilter) {
				[productFilter, polFilter, regionFilter].forEach(filter => {
					filter.addEventListener('change', filterTables);
				});
			}
			
			function filterTables() {
				const productValue = productFilter.value;
				const polValue = polFilter.value;
				const regionValue = regionFilter.value;
				
				// 筛选所有费率表格
				document.querySelectorAll('table').forEach(table => {
					const rows = table.querySelectorAll('tbody tr');
					rows.forEach(row => {
						const cells = row.querySelectorAll('td');
						if (cells.length >= 7) {
							const product = cells[3].textContent.trim();
							const pol = cells[5].textContent.trim();
							const region = cells[6].textContent.trim();
							
							const showRow = 
								(productValue === 'all' || product === productValue) &&
								(polValue === 'all' || pol === polValue) &&
								(regionValue === 'all' || region === regionValue);
							
							row.style.display = showRow ? '' : 'none';
						}
					});
				});
			}
		});
		
    </script>
	
	<!-- 自定义提示框 -->
	<div class="custom-alert-modal" id="customAlertModal">
		<div class="custom-alert-content">
			<div class="custom-alert-message" id="customAlertMessage"></div>
			<button class="custom-alert-ok" id="customAlertOK">OK</button>
		</div>
	</div>

	<script>
	// 禁用右键菜单
	document.addEventListener('contextmenu', function(e) {
		e.preventDefault();
		// 可以添加一个提示
		// alert('右键菜单已被禁用');
	});

	// 禁用文本选择（谨慎使用，影响用户体验）
	/*document.addEventListener('selectstart', function(e) {
		e.preventDefault();
	}); */

	// 禁用常见保存快捷键 (Ctrl+S, Ctrl+U, F12等)
	document.addEventListener('keydown', function(e) {
		// 禁用 Ctrl+S
		if (e.ctrlKey && e.key === 's') {
			e.preventDefault();
			alert('网页保存功能已被禁用');
		}
		// 禁用 Ctrl+U (查看源代码)
		if (e.ctrlKey && e.key === 'u') {
			e.preventDefault();
		}
		// 禁用 F12 (开发者工具)
		if (e.key === 'F12') {
			e.preventDefault();
		}
		// 禁用 Ctrl+Shift+I (开发者工具)
		if (e.ctrlKey && e.shiftKey && e.key === 'I') {
			e.preventDefault();
		}
		// 禁用 Ctrl+Shift+C (检查元素)
		if (e.ctrlKey && e.shiftKey && e.key === 'C') {
			e.preventDefault();
		}
		// 禁用 Ctrl+Shift+J (JavaScript控制台)
		if (e.ctrlKey && e.shiftKey && e.key === 'J') {
			e.preventDefault();
		}
	});
	</script>


</body>
</html>